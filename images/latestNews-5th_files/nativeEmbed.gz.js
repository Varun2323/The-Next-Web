/**
 * QuantX Serve v2.15.21
 * 2020-10-26
 */
!(function(me,V){function F(){if(me.parent!==me)try{return void 0===me.parent.document?void 0:1}catch(e){}}var ge,z={},W=!1,J=(function(){try{return V.currentScript.getAttribute("src")}catch(e){return (function(){var e=new Error;if(!e.stack)try{throw e}catch(e){}return(/.*at [^\(]*\((.*):.+:.+\)$/gi.exec(e.stack)||[!1])[1]})()}})();if(J&&0<J.indexOf("?"))for(var e=J.substr(J.indexOf("?")+1).split("&"),t=0;t<e.length;t++){var a=e[t].split("=");z[a[0]]=a[1]}W=!!z.eanPlacementIdOnly;var he=me,ve=V;function n(){var ee,a,n,i,r,e;if(he.ean=he.ean||{},a=Object.prototype.toString,n=Function.prototype.toString,i=/^\[object .+?Constructor\]$/,r=RegExp("^"+String(a).replace(/[.*+?^${}()|[\]\/\\]/g,"\\$&").replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),IsNative=function(e){var t=typeof e;return"function"==t?r.test(n.call(e)):e&&"object"==t&&i.test(a.call(e))||!1},IsNative(he.Function.bind)||(he.Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");function t(){}function a(){return i.apply(this instanceof t?this:e,n.concat(Array.prototype.slice.call(arguments)))}var n=Array.prototype.slice.call(arguments,1),i=this;return this.prototype&&(t.prototype=this.prototype),a.prototype=new t,a}),z.checkSelectorOnIframe&&(he=me,ve=V),z.checkVisibilityOnTop&&(he.ean=he.ean||{},he.ean.checkVisibilityOnTop=!0),z.eanPlacementIdOnly&&(W=!0,ee=z.eanPlacementIdOnly),he.ean&&he.ean.tagMode&&"quantx"===he.ean.tagMode&&he.ean.placementsById&&W&&0<Object.keys(he.ean.placementsById).length)return he.ean.placementsById[ee]?(-1!==me.location.href.indexOf("talktalk.co.uk")&&(he.ean.placementsById[ee].sspParsed=!1),he.ean.initPlacement([he.ean.placementsById[ee]],ee)):he.ean.console.warn("PlacementId not found in placement List. eanPlacementIdOnly=",ee),he.ean;if(!(!he.ean||!he.ean.loaded||he.ean&&he.ean.forceReloadScript||W||-1!==me.location.href.indexOf("talktalk.co.uk")))return he.ean;he.ean&&he.ean.forceReloadScript?he.ean={}:he.ean=he.ean||{},he.ean.tagMode="quantx",he.ean.placements={},he.ean.placementsByAPXID={},he.ean.placementsNotVisible=[],he.ean.processing=!0,he.ean.processedPlacements={},he.ean.placementsById={},he.ean.nativeAds={},he.ean.nativeAdsSource={},he.ean.nativeAdsSourceByVid={},he.ean.articlePlacement={},he.ean.adUnits=[],he.ean.isIntegrationDSP=[],he.ean.dspLoadExtras=[],he.ean.videosOnAutoPlay=[],he.ean.initialized=!1,he.ean.loaded=!1,he.ean.ean_window_ready=!1,he.ean.iframes={},he.ean.monthNames={en:["January","February","March","April","May","June","July","August","September","October","November","December"],fr:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],it:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"]},he.ean.prebid_que||(he.ean.prebid_que=[]),ge=he.ean,he.ean.console={addBadge:function(e,t){var a=(e=[].slice.call(e)).shift(),n="color:white;background-color:"+t+";padding:1px 5px;border-radius:5px;font-weight:bold;margin-right:3px";return("string"==typeof a||a instanceof String)&&0===a.indexOf("%c")?e.unshift("%cNativeEmbed"+a,n):e.unshift("%cNativeEmbed",n,a),e},log:function(){console.log.apply(this,this.addBadge(arguments,"#0085d5"))},debug:function(){console.log.apply(this,this.addBadge(arguments,"darkgreen"))},info:console.info,warn:console.warn,error:console.error},void 0===ve.querySelector&&(ve.querySelectorAll=function(e){for(var t,a,n,i=e.split(","),r=i.length,s=[],o=0;o<r;o++)for(a=(t=(function(e,t){var a,n,i,r,s,o,l,c,d,p,u,m,g,h=t.split(/[ >]+/),v=t.match(/[ >]+/g)||[],_=[e];for(v.unshift(" ");a=h.shift();)for(n=(n=v.shift())&&n.replace(/^ +| +$/g,""),i=_.slice(0),_=[],r=i.length,l=(o=a.match(/[#.[]?[a-z_-]+(?:='[^']+'|="[^"]+")?]?/gi)).length,s=0;s<r;s++)if("#"==o[0].charAt(0))_=[ve.getElementById(o[0].substr(1))];else{if(!(d=">"==n?i[s].children:i[s].getElementsByTagName("*")))continue;for(u=d.length,p=0;p<u;p++){for(m=!0,c=0;c<l;c++){switch(o[c].charAt(0)){case".":d[p].className.match(new RegExp("\\b"+o[c].substr(1)+"\\b"))||(m=!1);break;case"[":g=o[c].substr(1,o[c].length-2).split("="),d[p].getAttribute(g[0])?g[1]&&(g[1]=g[1].replace(/^['"]|['"]$/g,""),d[p].getAttribute(g[0])!=g[1]&&(m=!1)):m=!1;break;default:d[p].tagName.toLowerCase()!=o[c].toLowerCase()&&(m=!1)}if(!m)break}m&&_.push(d[p])}}return _})(this,i[o])).length,n=0;n<a;n++)s.push(t[n]);return s},ve.querySelector=function(e){var t=this.querySelectorAll(e);return 0<t.length?t[0]:null},"undefined"!=typeof HTMLElement?(HTMLElement.prototype.querySelector=ve.querySelector,HTMLElement.prototype.querySelectorAll=ve.querySelectorAll):[].push((function(){for(var e=ve.getElementsByTagName("*"),t=e.length,a=0;a<t;a++)e[a].querySelector=ve.querySelector,e[a].querySelectorAll=ve.querySelectorAll}))),he.ean.utils={listeners:{},eventRaised:{},on:function(e,t){this.listeners[e]=this.listeners[e]?this.listeners[e]:[],this.listeners[e].push(t)},emit:function(e){var t=arguments;[].slice.call(t).shift(),this.eventRaised[e]=t,this.listeners[e]&&this.listeners[e].forEach((function(e){e.apply(null,t)}))},waitOnce:function(e,t){return this.eventRaised[e]?t.apply(null,this.eventRaised[e]):this.on(e,t)},removeListener:function(e,t){this.listeners[e]&&this.listeners[e][this.listeners[e].indexOf(t)]&&delete this.listeners[e][this.listeners[e].indexOf(t)]},extend:function(e,t){if(e&&t)for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);return e},isEmpty:function(e){if(null==e)return!0;if(0<e.length)return!1;if(0===e.length)return!0;for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0},parseContent:function(e){if(!e)return"";var t=new RegExp("<script","g");return e=e.replace(t,'<script data-eascript="true"')},strip:function(e,t){if("string"!=typeof e)return null;var a=e.split(" ");return null==t||isNaN(t)||String(e).length>Number(t)&&(e=String(e).substr(0,t),(e=String(e).split(" "))[e.length-1]!=a[e.length-1]&&1<e.length&&e.pop(),e=e.join(" "),e+="..."),e},checkSelectors:function(e,t,a){for(var n="and"===a,i=0;i<e.length;i++){var r=he.document.querySelector(e[i])?t:!t;if("and"===a)n=n&&r;else if(n=n||r,!1===t&&!0===n)break}return n},checkAllowedURLs:function(e,t,a){var n,i=!t,r=he.location.href;for(var s in he.ean.checkVisibilityOnTop&&F()&&(r=(r=ve.baseURI)||((n=V.getElementsByTagName("base")).length?n[0].href:ve.URL)),e)if(1==a){if((r=he.location.hostname+he.location.pathname)==e[s]||he.location.protocol+"//"+r==e[s]){i=t;break}}else if(-1<r.indexOf(e[s])){i=t;break}return i},checkStatus:function(e){var t=!0,a=he.ean.utils.getParameterByName("ean-pid-only");if(a&&e.pid!=a)return!1;var n=e&&e.template?e.template:null;return n&&(n.strict_urls&&(t=he.ean.utils.checkAllowedURLs(n.strict_urls,!0,!0)),t&&n.strict_blocked_urls&&(t=he.ean.utils.checkAllowedURLs(n.strict_blocked_urls,!1,!0)),t&&n.allowed_urls&&(t=he.ean.utils.checkAllowedURLs(n.allowed_urls,!0,!1)),t&&n.blocked_urls&&(t=he.ean.utils.checkAllowedURLs(n.blocked_urls,!1,!1)),t&&n.allowed_selectors&&(t=he.ean.utils.checkSelectors(n.allowed_selectors,!0,n.allowed_selectors_operator||"and")),t&&n.blocked_selectors&&(t=he.ean.utils.checkSelectors(n.blocked_selectors,!1,n.blocked_selectors_operator||"and")),t&&!1===n.allow_mobile&&he.ean.utils.isMobile()&&(t=!1),t&&!1===n.allow_desktop&&!he.ean.utils.isMobile()&&(t=!1)),e&&t&&e.status&&("scanning"==e.status||"waiting"==e.status||"active"==e.status||"ready_for_test_campaign"==e.status||"ready_to_test"==e.status&&(he.ean.utils.getParameterByName("ean-test-native")||he.ean.utils.getParameterByName("ean-testall-native"))||"pending"==e.status&&he.ean.utils.getParameterByName("ean-testall-native"))},replaceHtml:function(e,t,a,n,i,r,s){he.ean.console.log("dataSettings",t);var o=t.tags,l=r.position,c=r.max_chars,d=r.selector_index||0;for(var p in"native"===t.type&&t.adnx&&t.adnx.bid&&t.adnx.bid.hb_adid&&"www.ptitchef.com"===me.location.hostname&&(e=(e=e.replace(new RegExp('href="{link}"'),' pbAdId="{hb_adid}" href="{link}" ')).replace(new RegExp("ea_link")," ea_link pb-click "),o.hb_adid=t.adnx.bid.hb_adid,ge.prebidUniversalNativeTrackingLoaded||(he.ean.utils.loadScript("https://cdn.elasticad.net/native/serve/js/quantx/native-trk.js",(function(){me.setTimeout((function(){me.pbNativeTag.startTrackers({pubUrl:me.location.href})}),1e3)})),ge.prebidUniversalNativeTrackingLoaded=!0)),o){var u=null;c&&c[p]&&(u=c[p]);var m=o[p],g=he.ean.utils.strip(m,u),g=he.ean.utils.parseContent(g);e=he.ean.utils.replaceParam(e,p,g)}function h(){return/\{ea_date\("(.*?)","(.*?)"(?:,?"?([a-z]{2})?"?)\)\}/g}var v=e.match(h());if(v&&v.length)for(var _=0;_<v.length;_++){var f,y=String(v[_]),b=h().exec(y);b&&(f=he.ean.utils.getEADate(b[1]||"/",b[2]||"dmy",b[3]||"en"),e=e.replace(y,f))}var x=null;if(a&&(x=he.document.querySelectorAll(a)[parseInt(d)]),x){var k=ge.utils.getValidChildren(r.child_selector?he.document.querySelectorAll(r.child_selector):x.children),A=k[Math.min(Number(l)||0,k.length-1)];switch(n){case"every":var w=r.frequency||2;r.addedFirst||(w=0,r.addedFirst=!0),r.position=l+w+1,l+=w,A=k[Math.min(l,k.length-1)];case"insert_before":"insert_before"===n&&(A=he.document.querySelectorAll(r.before_selector)[r.before_selector_index||0]||x.children[l||0]);case"insert_at":var I;switch(x.tagName.toUpperCase()){default:I=he.document.createElement("div");break;case"TBODY":case"TABLE":I=he.document.createElement("table"),he.ean.utils.insertHTML(I,"<tbody></tbody>"),I=I.children[0];break;case"TR":I=he.document.createElement("table"),he.ean.utils.insertHTML(I,"<tbody><tr></tr></tbody>"),I=I.getElementsByTagName("tr")[0]}he.ean.utils.insertHTML(I,e);for(var P=null,S=I.children.length,p=S-1;0<=p;p--){var C=(B=I.children[p]).getAttribute("class")||"";if(C+=" ean_element",p==S-1&&!0!==r.ea_native_element_added){if(i.ssp)for(var E=0;E<i.ssp.length;E++)"appnexus"===i.ssp[E].ssp_name&&"direct"===i.ssp[E].origin&&(C+=" ea_apx_pid_"+i.ssp[E].ssp_id),"improvedigital"===i.ssp[E].ssp_name&&(C+=" ea_improve_pid_"+i.ssp[E].ssp_id);C+=" ea_native_element ea_quantx_pid_"+i.pid,r.ea_native_element_added=!0}B.setAttribute("class",C),B.setAttribute("data-qtxpid",i.pid),"last"==l||0==x.children.length||parseInt(l)>=k.length?x.appendChild(B):x.insertBefore(B,A),"STYLE"!=B.nodeName&&(P=B)}P&&he.ean.utils.triggerEvent("ean-native-placement-show",{container:P,isChild:1<S,placement:i});break;default:try{var T=x.getAttribute("class")||"";if(!0!==r.ea_native_element_added){if(i.ssp)for(E=0;E<i.ssp.length;E++)"appnexus"===i.ssp[E].ssp_name&&"direct"===i.ssp[E].origin&&(T+=" ea_apx_pid_"+i.ssp[E].ssp_id),"improvedigital"===i.ssp[E].ssp_name&&(C+=" ea_improve_pid_"+i.ssp[E].ssp_id);T+=" ea_native_element ea_quantx_pid_"+i.pid,r.ea_native_element_added=!0}x.setAttribute("class",T),x.setAttribute("data-qtxpid",i.pid),he.ean.utils.insertHTML(x,e);var N=x.children.length;for(p=0;p<N;p++){var B,C=(B=x.children[p]).getAttribute("class")||"";B.setAttribute("class",C+" ean_element")}he.ean.utils.triggerEvent("ean-native-placement-show",{container:x,isChild:!1,placement:i})}catch(e){me.console&&me.console.log("EANative ERROR: Error inserting HTML",e)}}var O=["yahoo"],q=x.querySelector(".ean_element.ead_"+t.pid)?x.querySelector(".ean_element.ead_"+t.pid):x;t.adnx&&ge.dspLoadExtras[t.ah]&&-1===t.adnx.dsp.indexOf(O)?ge.dspLoadExtras[t.ah](q):he.ean.utils.isElementVisiblePercent(q,50)&&t.hasOwnProperty("adnx")&&-1<t.adnx.dsp.indexOf(O)&&setTimeout((function(){ge.dspLoadExtras[t.ah](q)}),1e3)}},initGptSlot:function(e,t){var a,n=e.pid;switch(e.type){case"native":a=e.template;break;case"article":a=e.article_template}var i,r,s,o,l,c,d=a.method||e.method,p=a.position,u=ge.googleAdUnits[n],m=a.selector_index||0,g=null;a.selector&&(g=he.document.querySelectorAll(a.selector)[parseInt(m)]),g?(r=(i=ge.utils.getValidChildren(a.child_selector?he.document.querySelectorAll(a.child_selector):g.children))[Math.min(Number(p)||0,i.length-1)],"every"===d?(s=a.frequency||2,a.addedFirst||(s=0,a.addedFirst=!0),a.position=p+s+1,p+=s,r=i[Math.min(p,i.length-1)]):"insert_before"===d&&(r=he.document.querySelectorAll(a.before_selector)[a.before_selector_index||0]||g.children[p||0]),he.ean.googleCreativeWon=!0,(o=V.createElement("iframe")).style.borderLeft="none",o.style.width="100%",o.style.height="1px",o.frameBorder=0,o.marginHeight=0,o.marginWidth=0,o.scrolling="no",o.src="about:blank",o.id="quantx-adx-iframe","last"==p||0==g.children.length||parseInt(p)>=i.length||!r||"replace"===d?g.appendChild(o):g.insertBefore(o,r),o.contentWindow.document.write('<html><head></head><body><div id="quantx-adx-ad"></div></body></html>'),(l=o.contentWindow.document.createElement("script")).src="//www.googletagservices.com/tag/js/gpt.js",o.contentWindow.document.head.appendChild(l),(c=o.contentWindow.document.createElement("script")).text='var googletag = googletag || {};googletag.cmd = googletag.cmd || [];googletag.cmd.push(function () {googletag.pubads().setTargeting("tnl_asset_id", "quantum_asset");googletag.defineSlot("'+u+'", ["fluid", [1,1]], "quantx-adx-ad").addService(googletag.pubads());',t&&(c.text+='var targeting = window.parent.eanpbjs.getAdserverTargetingForAdUnitCode("'+t+'");googletag.pubads().setTargeting("hb_pb", targeting["hb_pb"]);googletag.pubads().setTargeting("hb_bidder", targeting["hb_bidder"]);googletag.pubads().setTargeting("hb_format", "quantx_native");googletag.pubads().setTargeting("quantx_pid", "'+n+'");googletag.pubads().setTargeting("quantx_ad_unit_code", "'+t+'");'),c.text+='googletag.pubads().addEventListener("slotRenderEnded", function(event) {var method = "'+d+'";if (event.isEmpty) {window.frameElement.style.display = "none";window.parent.ean.renderDefaultCreative();return;}if (window.parent.ean.googleCreativeWon) {var adIframe = window.frameElement;if (method === "replace") {var container = window.frameElement.parentElement;for (var i = container.children.length-1; i>=0; i--) {if (container.children[i] !== adIframe ) container.removeChild(container.children[i]);}}function resizeAdIframe(counter) {adIframe.style.height = adIframe.contentWindow.document.body.scrollHeight + "px";if (counter > 0) setTimeout(resizeAdIframe, 1000, counter-1);}resizeAdIframe(5);} else {window.frameElement.style.display = "none";}});googletag.enableServices();googletag.display("quantx-adx-ad");});',o.contentWindow.document.body.appendChild(c),o.contentWindow.document.close(),he.ean.utils.triggerEvent("ean-native-placement-show",{container:g,isChild:!1,placement:e})):he.ean.console.error("EANative ERROR: No container found for GPT slot")},triggerEvent:function(e,t){var a;ve.createEvent&&((a=ve.createEvent("Event")).initEvent(e,!0,!0),a.data=t,a.eventType=e,ve.dispatchEvent&&ve.dispatchEvent(a))},getElementIndex:function(e,t){for(var a=0;a<e.length;a++)if(e[a]==t)return a},getEADate:function(e,t,a){var n=new Date,i=9<n.getMonth()+1?n.getMonth()+1:"0"+(n.getMonth()+1),r=9<n.getDate()?n.getDate():"0"+n.getDate();a&&he.ean.monthNames[a]||(a="en");var s=[],o=t.split("");if(o)for(var l=0;l<o.length;l++)switch(o[l]){case"d":s.push(r);break;case"m":s.push(i);break;case"y":s.push(n.getFullYear());break;case"F":s.push(he.ean.monthNames[a][n.getMonth()]);break;case"K":s.push(he.ean.monthNames[a][n.getMonth()].slice(0,3));break;case"h":s.push(n.getHours());break;case"i":s.push(n.getMinutes());break;case"s":s.push(n.getSeconds())}return s.join(e)},replaceParam:function(e,t,a){var n=new RegExp("{"+t+"}","g");try{e=e.replace(n,a)}catch(e){}return e},loadScript:function(e,t,a,n){var i=a?a.contentWindow.document:he.document,r=he.document.getElementsByTagName("head")[0];n&&(r=he.document.getElementsByTagName("body")[0]);var s=a?a.contentWindow.document.body:r,o=i.createElement("script");return o.type="text/javascript",o.onload=t,o.async=!0,o.src=e,s.appendChild(o),o},loadImpressionEventTracker:function(e){1===parseInt(e.event,10)&&(e.method=parseInt(e.method,10),1===e.method?this.loadTrackerImage(e.url):2===e.method?this.loadScript(e.url):he.ean.console.log("%cTracker method %s is not supported.","color:red;",e.method))},loadTrackerImage:function(e,t,a){var n=t?t.contentWindow.document:he.document,i=t?t.contentWindow.document.body:he.document.getElementsByTagName("body")[0],r=n.createElement("img");return r.src=e,r.className=a||"ean-clicktracker",r.style.width=0,r.style.height=0,r.style.display="none",i.appendChild(r),r},loadPlacementConfig:function(e){e=e.replace("{domain}",he.ean.utils.getDomainName()),he.ean.utils.loadScript(e+"?r="+he.ean.utils.getRand())},getCookieByName:function(e){var t=V.cookie,a=e+"=",n=t.indexOf("; "+a);if(-1==n){if(0!=(n=t.indexOf(a)))return null}else{n+=2;var i=V.cookie.indexOf(";",n);-1==i&&(i=t.length)}return decodeURI(t.substring(n+a.length,i))},getParameterByName:function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&#]"+e+"=([^&#]*)"),a=t.exec(he.location.search);return null==a&&(a=t.exec(he.location.hash)),null==a&&null!=he[e]?he[e]:null==a?null==he.ean.utils.getCookieByName(e)?"":he.ean.utils.getCookieByName(e):decodeURIComponent(a[1].replace(/\+/g," "))},getDomainName:function(){var e=ge.utils.getParameterByName("ean-domain");if(""!=e)return e;var t=he.location.hostname;he.ean.checkVisibilityOnTop&&F()&&(t=ve.domain),"www."==t.substr(0,4)&&(t=t.substr(4));for(var a="__ean__",n=0;n<pe.customDomainExtensions.length;n++)var i=pe.customDomainExtensions[n],t=t.replace(i,i.replace(/\./g,a));var r=t.split(".");r.splice(0,r.length-2),t=r.join(".");var s=new RegExp(a,"g");return t=t.replace(s,".")},openURL:function(e,t,a,n){a&&""!=a&&(e=encodeURI(e)),e=(a||"")+e,t=t||"_self",n?he.open(e,t,n):he.open(e,t)},getRand:function(){return Math.random().toString(16).substr(2)},getValueFromPath:function(e,t,a){return"string"==typeof t?he.ean.utils.getValueFromPath(e,t.split("."),a):1==t.length&&void 0!==a?e[t[0]]=a:0==t.length?e:he.ean.utils.getValueFromPath(e[t[0]],t.slice(1),a)},isVisibleInsideIframeTEST:function(e,t,a){var n=V.querySelectorAll(e)[0],i=me.top.scrollY||me.top.pageYOffset,r=n.getBoundingClientRect(),s=t.getBoundingClientRect(),o=me.top.innerHeight,l=s.top+r.top,c=s.top+r.top+r.height,d=-a<c&&l<o+a;return he.ean.console.log("xxx:",r,s,i,l,"<",o+a,c,">-",o,d),d},isVisibleInsideIframe:function(e,t){var a=t.offsetTop,n=V.querySelectorAll(e)[0].offsetTop+a,i=me.top.scrollY||me.top.pageYOffset;return n<i+me.top.innerHeight&&i<n},getHighestLevelFriendlyIframe:function(e,t){return e.frameElement?he.ean.utils.getHighestLevelFriendlyIframe(e.frameElement.contentWindow.parent,e.frameElement):t=t||e},getTopWindow:function(e){return e.top},isElementVisible:function(e,t,a,n){var i=he,r=ve,s=null,o=a.template,l=o.visibility_offset?o.visibility_offset:400;if(he.ean.checkVisibilityOnTop&&F()&&i.frameElement)return he.ean.utils.isVisibleInsideIframeTEST(e,he.ean.utils.getHighestLevelFriendlyIframe(i),l);n=n||o.position;var c=o.selector_index||0,d=null;e&&(d=i.document.querySelectorAll(e)[parseInt(c)]);var p=!1;if(d){var u=ge.utils.getValidChildren(o.child_selector?he.document.querySelectorAll(o.child_selector):d.children),m=(u=[].slice.apply(u).filter((function(e){return"script"!==e.localName&&"style"!==e.localName})))[Math.min(Number(n)||0,u.length-1)];switch(t){case"insert_before":m=i.document.querySelectorAll(o.before_selector)[o.before_selector_index||0]||d.children[n||0];case"insert_at":"insert_before"==t||0!=n&&0!=u.length?"last"==n||parseInt(n)>=u.length-1?s=u[u.length-1]:(s=m,p=!0):s=d;break;case"every":s=u[Math.min(n,u.length-1)];break;default:s=d}}if(!s||null===s.offsetParent)return!1;s!==d&&"update"!=t||(p=!0);var g=i.pageYOffset;null==g&&(g=r.documentElement.scrollTop);var h=i.innerHeight;null==h&&(h=r.documentElement.clientHeight);var v,_=Math.max(g,0),f=_+h,y=he.ean.utils.getOffset(s),b=y+s.offsetHeight,x=!1;return(x=1==p?_-l<=y&&y<f+l:_-l<=b&&b<f+l)||(v=s.getBoundingClientRect(),x=1==p?0<v.top&&v.top<h+l:0<v.bottom&&v.bottom<h+l),he.ean.console.log("isVisible:",x),x},getOffset:function(e,t){t=t||"offsetTop";for(var a=0;isNaN(e[t])||(a+=e[t]),e=e.offsetParent;);return a},isElementVisiblePercent:function(e,t){var a=e.getBoundingClientRect();void 0===he.pageYOffset&&ve.documentElement.scrollTop;var n=he.innerHeight;void 0===n&&(n=ve.documentElement.clientHeight);var i=a.top+(t?a.height*t/100:0),r=a.bottom-(t?a.height*t/100:0);return 0<i&&r<n},replaceDiacritics:function(e){return e=(e=(e=(e=(e=(e=e.replace(/[ÁÀÂÃÄáàâãªä]/g,"a")).replace(/[ÉÈÊËéèêë&]/g,"e")).replace(/[óòôõöºÖÓÒÔÕ]/g,"o")).replace(/[úùûüÚÙÛÜ]/g,"u")).replace(/[íÍîïÏ]/g,"i")).replace(/[çÇ]/g,"c")},getStyle:function(e,t){var a="";return V.defaultView&&V.defaultView.getComputedStyle?a=V.defaultView.getComputedStyle(e,"").getPropertyValue(t):e.currentStyle&&(t=t.replace(/\-(\w)/g,(function(e,t){return t.toUpperCase()})),a=e.currentStyle[t]),a},getValidChildren:function(e){var t=[];if(e&&0<e.length)for(var a=0;a<e.length;a++)1==e[a].nodeType&&t.push(e[a]);return t},isMobile:function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(he.navigator.userAgent)},isIOS:function(){return/(iPad|iPhone|iPod)/g.test(he.navigator.userAgent)},isTablet:function(){return 600<=Math.min(he.screen.height,he.screen.width)},replaceAll:function(e,t){for(var a in t)e=e.split(a).join(t[a]?t[a]:"");return e},replaceCreativeMacros:function(e,t){return null!=t.auctionid&&(e=e.replace(/\${AUCTION_ID}/g,t.auctionid)),this.replaceAll(e,{"${PUBLISHER_ID}":t.pubid,"${SITE_ID}":t.sid,"${TAG_ID}":t.pid,"${PLACEMENT_ID}":t.pid,"${CP_ID}":t.adnxsId,"${USER_COUNTRY}":t.country,"${CLICK_URL}":t.clickTAG,"${USER_ID}":t.uid,"${SSP_DATA}":t.sspData,"${CACHEBUSTER}":he.ean.utils.getRand(),"${CREATIVE_ID}":t.cid,"${CP_CODE}":t.cpCode})},getURLHostname:function(e){var t=ve.createElement("a");return t.href=e,t.hostname},base64url_encode:function(e){return e.replace("/","_").replace("+","-")},ajaxLoad:function(e,t,a,n,i){var r=j(),s=1<r&&r<10,o=me.XMLHttpRequest&&!s?new XMLHttpRequest:s?new XDomainRequest:new ActiveXObject("Microsoft.XMLHTTP");if(s?(o.onerror=function(){a(o,o.status)},o.onload=function(){t(o,o.responseText)}):o.onreadystatechange=function(){o.readyState==XMLHttpRequest.DONE&&(200==o.status?t(o,o.responseText):a(o,o.status))},o.open("GET",e,!0),null!=i&&(o.withCredentials=!0),null!=n)for(var l in n)n.hasOwnProperty(l)&&o.setRequestHeader(l,n[l]);o.send()},isArray:function(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)},insertHTML:function(t,a){if(null!=t)try{if(t.outerHTML.includes("prism_iframe")){var e,i,r;if((a=a.split("\n").join("").split("\t").join("")).includes("<iframe")&&a.includes("video_")&&(e=a.split("<iframe"),i=[],r=[],l=0,e.forEach((function(e){var t,a,n;e.includes("</iframe>")?(t=e.split("</iframe>"),i.push("<iframe"+t[0]+"</iframe>")):(n="video_"+(a=e.split('id="video_'))[a.length-1].replace('">',"").split(" ").join(""),r.push(n))})),i.forEach((function(e){a=a.replace(e,""),l+=1}))),a.includes("script")){var n=[],s=[],o=a.split("<script");for(var l in o)if(!o[l].includes("<\/script>")||o[l].includes("jquery")||o[l].includes("bootstrap")||o[l].includes("touchSwipe.min.js")){if(o[l].includes('src="https://quantumadvertising.s3.eu-west-1.amazonaws.com/jquery"')){var c=o[l].split("src=")[1].split('"')[1],d=ve.createElement("script");d.src=c;var p="",u="";for(var m in o)o[m].includes("touchSwipe.min.js")&&(p=o[m].split("src=")[1].split('"')[1],a=a.replace("<script"+o[m].split("<\/script>")[0]+"<\/script>","")),o[m].includes('src="https://quantumadvertising.s3.eu-west-1.amazonaws.com/bootstrap"')&&(u=o[m].split("src=")[1].split('"')[1],a=a.replace("<script"+o[m].split("<\/script>")[0]+"<\/script>",""));""!==p&&""!==u?d.onload=function(){var e=me.document.createElement("script");e.src=p,me.document.head.appendChild(e);var t=me.document.createElement("script");t.src=u,me.document.head.appendChild(t)}:""!==p?d.onload=function(){var e=me.document.createElement("script");e.src=p,me.document.head.appendChild(e)}:""!==u&&(d.onload=function(){var e=me.document.createElement("script");e.src=u,me.document.head.appendChild(e)}),me.document.head.appendChild(d),a=a.replace("<script"+o[l].split("<\/script>")[0]+"<\/script>","")}}else{var g=o[l].split("<\/script>")[0];if(g.includes('src="')){for(var h="";g.includes('src="');)h=g.split('src="')[1].split('"')[0],s.push(h),0<(g=g.split('src="').splice(2).join('src="')).length&&(g='src="'+g);a=a.replace("<script"+o[l].split("<\/script>")[0]+"<\/script>","")}else if(g.includes("src='")){for(h="";g.includes("src='");)h=g.split("src='")[1].split("'")[0],s.push(h),0<(g=g.split("src='").splice(2).join("src='")).length&&(g="src='"+g);a=a.replace("<script"+o[l].split("<\/script>")[0]+"<\/script>","")}else n[l]=g.split(">").splice(1,g.split(">").length).join(">"),n[l]=n[l].split('"').join('\\"').split("'").join("\\'"),a=a.replace("<script"+o[l].split("<\/script>")[0]+"<\/script>","")}}return t.innerHTML=a,[i,r,n,s]}t.innerHTML=a}catch(e){var v=he.document.createElement("DIV");v.innerHTML=a;for(l=0;l<v.children.length;l++)t.appendChild(v.children[l])}},getParentByClass:function(e,t){for(var a=t.toLowerCase();e&&e.parentNode;)if(-1<(e=e.parentNode).className.indexOf(a))return e;return null},disableConsoleLog:function(){he.ean.console.log=function(){},he.ean.console.debug=function(){},he.ean.console.info=function(){},he.ean.console.warn=function(){},he.ean.console.error=function(){}},guid:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},lzw_encode:function(e){for(var t,a={},n=(e+"").split(""),i=[],r=n[0],s=256,o=1;o<n.length;o++)null!=a[r+(t=n[o])]?r+=t:(i.push(1<r.length?a[r]:r.charCodeAt(0)),a[r+t]=s,s++,r=t);i.push(1<r.length?a[r]:r.charCodeAt(0));for(o=0;o<i.length;o++)i[o]=String.fromCharCode(i[o]);return i.join("")},lzw_decode:function(e){for(var t={},a=(e+"").split(""),n=a[0],i=n,r=[n],s=256,o=1;o<a.length;o++){var l=a[o].charCodeAt(0),c=l<256?a[o]:t[l]?t[l]:i+n;r.push(c),n=c.charAt(0),t[s]=i+n,s++,i=c}return r.join("")}},"undefined"==typeof Promise&&he.ean.utils.loadScript("https://cdnjs.cloudflare.com/ajax/libs/bluebird/3.3.4/bluebird.min.js"),"undefined"==typeof JSON&&((e=he.document.createElement("script")).type="text/javascript",e.src="http://cdn.elasticad.net/native/serve/js/helper/json3.min.gz.js",he.document.getElementsByTagName("head")[0].appendChild(e));var _=0,te=1,ae=100,p=101,ne=200,s=201,ie=102,re=2,se=203,o=204,l={native:2,article:3,expanded:4},f={quantum:1,appnexus:2,appnexusAst:2},oe={nativePlacementsConfigURL:"//{bucket}/native/placements/{domain}/pconfig",mediationExchangeRates:"{protocol}//{bucket}/native/serve/rates.json",articlePlacemensConfigURL:"//{bucket}/native/placements/{domain}/aconfig",vastEmbed:"{protocol}//{eaCDN}/native/serve/vastEmbed.html?vast=",vastTeaser:"{protocol}//{eaCDN}/native/serve/vastEmbed.html?vast=",prismContentURL:"{prism_serve}/prism/",prismCanvasJS:"{protocol}//cdn.prism-mob.com/serve/js/CanvasAd.gz.js",articleURL:"https://{bucket}/native/ad/{hash}/article/settings",nativeURL:"{protocol}//{bucket}/native/ad/{hash}/teaser/settings",cdnURL:"{protocol}//{cdn}",sharePageUrl:"http://{share_page_domain_url}/nredir.php?hash={ah}&href={encoded_article_link}&r="+he.ean.utils.getRand(),defaultSharePageUrl:"{share_page_domain}",resizeServerImagesPath:"{protocol}//resize-ssp.adux.com/{scalemode}-{wxh}/{hash}",eaImagesPath:"{protocol}//{cdnImg}/media/image/{hash}/{scalemode}-{wxh}",imagesPath:"{protocol}//{cdnImg}/media/image/{hash}/{scalemode}-{wxh}",eaOriginalImagesPath:"{protocol}//{cdnImg}/media/image/{hash}/original",originalImagesPath:"{protocol}//{cdnImg}/media/image/{hash}/original",externalResizeServerImagesPath:"{protocol}//resize-ssp.adux.net/{scalemode}-{wxh}/{hash}/external",externalImagesPath:"{protocol}//{cdnImg}/media/extimage/{hash}/{scalemode}-{wxh}",externalOriginalImagesPath:"{protocol}//{cdnImg}/media/extimage/{hash}/original",trackingURL:"//trackquantx.adux.com/v1/trk",integrationHelperURL:"{protocol}//{eaCDN}/native/serve/js/helper/integration/{dsp}_v2.gz.js",adChoiceIcon:"{protocol}//{eaCDN}/native/serve/media/adchoice.png"},le={brand_logo:"scaleh",defaultScale:"scalecrop"};ge.window=he,ge.document=ve;var t="s3.amazonaws.com/files.ssp.theadtech.com",c="d2lcoyv3ods5zz.cloudfront.net",d="cdn.elasticad.net",u="d2lcoyv3ods5zz.cloudfront.net",m="",h="http:",g="http://cdn.adnxs.com/",v="share.elasticad.net",y="ib.adnxs.com/ttj",b="sdev.sspqns.com/ul_cb/adn",x="//quantx.adux.com/articles:v1/GetAd/",k="//creativeservice.adux.com",k="//dev.creativeservice.adux.com",A="//trackquantx.adux.com/v1/trk",w=!1,I=!1,P="//resize-ssp.adux.com/{scalemode}-{wxh}/{hash}",S="//resize-ssp.adux.com/{scalemode}-{wxh}/{hash}/external";"true"===he.ean.utils.getParameterByName("ean-dev")&&(w=!0),"https:"==he.location.protocol&&(h=he.location.protocol);var C,E=h+"//quantumadvertising.s3.eu-west-1.amazonaws.com",ce=E+"/adstory/",de=E+"/adstoryBuilder",T=E+"/iframeFooter.js.gz";for(var N in J&&(ge.prebidUrl="//cdn.elasticad.net/native/serve/js/quantx/prebid.gz.js?v=3",-1!=J.indexOf("nativeEmbed.gz.js")&&(ge.prebidUrl=J.substring(0,J.indexOf("nativeEmbed.gz.js"))+"prebid.gz.js?v=3"),-1!=J.indexOf("nativeEmbed.js")&&(ge.prebidUrl=J.substring(0,J.indexOf("nativeEmbed.js"))+"prebid.js"),-1!=J.indexOf("devfilesquantx.theadtech.com")?w=!0:-1!=J.indexOf("gcdn.elasticad.net")&&(I=!0)),w?(m="dev.",u=c=cdnImg=t="devfilesquantx.theadtech.com.s3.amazonaws.com",d="devfiles.elasticad.net",E="http://quantumadvertising.s3.eu-west-1.amazonaws.com",A="http://dev.track.quantx.theadtech.com/v1/trk",b="sdev.sspqns.com/ul_cb/adn",x="//dev.quantx.theadtech.com/articles:v1/GetAd/",k="//dev.creativeservice.theadtech.com",P="//dev.resize.quantx.theadtech.com/{scalemode}-{wxh}/{hash}",S="//dev.resize.quantx.theadtech.com/{scalemode}-{wxh}/{hash}/external",C="//devfiles.elasticad.net.s3.amazonaws.com/native/serve/media/adchoice.png",v="share.sharepage.dev.elasticad.net",z.liveSSP||(y="ib.client-testing.adnxs.net/ttj"),oe.prismCanvasJS="http://devfiles.contad.theadtech.com.s3.amazonaws.com/serve/js/CanvasAd.gz.js"):1==I?(m="g",u=c="gpfiles.elasticad.net",cdnImg="storage.googleapis.com/gcdn.elasticad.net"):"true"!==he.ean.utils.getParameterByName("ean-debug")&&he.ean.utils.disableConsoleLog(),"https:"==h&&(g="https://a248.e.akamai.net/appnexus.download.akamai.com/89298/adnexus-prod/",y="secure.adnxs.com/ttj"),oe){var B="articleURL"===N||"nativeURL"===N?"s3.amazonaws.com/files.elasticad.net":c,O="eaOriginalImagesPath"===N||"eaImagesPath"===N?"de5zarwna0j2q.cloudfront.net":u;"trackingURL"===N&&(oe[N]=A),"adChoiceIcon"===N&&C&&(oe[N]=C),"externalResizeServerImagesPath"===N&&(oe[N]=S),"resizeServerImagesPath"===N&&(oe[N]=P),"nativePlacementsConfigURL"===N?B=c:"mediationExchangeRates"===N&&(B=t),oe[N]=oe[N].replace("{bucket}",B).replace("{subdomain}",m).replace("{cdn}",u).replace("{eaCDN}",d).replace("{cdnImg}",O).replace("{protocol}",h).replace("{adnxs}",g).replace("{prism_serve}",E).replace("{share_page_domain}",v)}"true"==he.ean.utils.getParameterByName("ean-placement-preview")&&he.ean.utils.loadScript(h+"//"+u+"/native/serve/js/helper/nativePreviewEmbedHelper.gz.js?v=1.0");var pe={debug:w,uid:0,vid:0,h:0,defaultPlacementId:"30650",mediationPlacementIds:{12413085:{available:!0,placementAssignedId:null},12467529:{available:!0,placementAssignedId:null},12467530:{available:!0,placementAssignedId:null},12467532:{available:!0,placementAssignedId:null},12467533:{available:!0,placementAssignedId:null}},queryParams:z,customDomainExtensions:["elasticad.net.s3.amazonaws.com","elasticad.net","wordpress.com","elasticad.jumpeye.net","co.uk","elasticad.jumpeye.com","blogspot.ro","blogspot.com"],nativeAdSizes:{ttj:{size:"19x11",promo_sizes:"19x12,608x226,608x227"},ast:{sizes:[[19,11],[19,12],[608,226],[608,227]]}},sspTAG:"true"==he.ean.utils.getParameterByName("ean-test-ast")?"ast":"ttj",prebid:"false"!==z.prebid&&"true"!==he.ean.utils.getParameterByName("ean-skip-prebid")};he.ean.utils.getParameterByName("ean-debug")&&(pe.debug=!0),ge.URLPaths=oe,ge.EAdConfig=pe,ge.getURLPath=function(e,t){switch(e){case"imagesPath":case"originalImagesPath":case"resizeServerImagesPath":switch(t){case"a":return oe[e];default:return oe["external"+e.charAt(0).toUpperCase()+e.slice(1)]}break;default:return oe[e]}return""},ge.loadDataInIFrame=function(t,a,n){var i=ve.createElement("iframe"),e="load-ad-"+he.ean.utils.getRand();i.id=e;var r=ve.createElement("div");r.style.display="none",r.appendChild(i),i&&(i.src="about:blank",i.onload=function(){var e=i.contentWindow?i.contentWindow:i.contentDocument.document?i.contentDocument.document:i.contentDocument;e.document.open(),e.document.write(t),!1!==a&&e.document.close(),n&&(he.ean.iframes[n]=i),i.onload=null}),ve.body.appendChild(r)},ge.loadLandingPageInIFrame=function(e){var t=ve.createElement("iframe"),a="lp-"+he.ean.utils.getRand();t.id=a;var n=ve.createElement("div");n.style.visibility="hidden",n.style.position="absolute",n.style.left="-10000px",n.style.top="-10000px",n.style.top="-10000px",t.width=he.innerWidth,t.height=he.innerHeight,n.appendChild(t),t.src=e,ve.body.appendChild(n)},ge.defineSPPTag=function(e,t){if(pe.prebid){var a={};t.placementId=e,a.params=t,a.bidder="appnexus",ge.adUnits.push(a)}else switch(pe.sspTAG){case"ttj":he.ean.utils.extend(t,pe.nativeAdSizes[pe.sspTAG]);var n=h+"//"+y+"?";t.id=e;var i=[];for(var r in t)i.push(encodeURIComponent(r)+"="+encodeURIComponent(t[r]));n+=i.join("&");var s=j(),o=!!(-1<s&&s<10),l="";o&&(l="<script type='text/javascript'>window.closeDocumentInterval =setInterval(function(){var scripts = document.getElementsByTagName('script');console.log(scripts.length); if(scripts.length>2){window.clearInterval(window.closeDocumentInterval);document.close();} }, 500);<\/script>");var c="<html><head></head><body><script type='text/javascript' src='"+n+"'><\/script>"+l+"</body></html>";ge.iframes[e]=null,ge.loadDataInIFrame(c,!o,e);break;case"ast":he.apntag=he.apntag||{},he.apntag.eanq=he.apntag.eanq||[],0==he.apntag.eanq.length&&(he.apntag={},he.apntag.eanq=[]),he.apntag.l||(he.apntag.l=!0,he.ean.utils.loadScript(h+"//acdn.adnxs.com/ast/ast.js"));var d={};for(var p in he.ean.utils.extend(d,pe.nativeAdSizes[pe.sspTAG]),d.tagId=Number(e),d.invCode=t.ext_inv_code,d.targetId="apn_ad_"+d.invCode,d.allowSmallerSizes=!1,d.disablePsa=!0,d.allowedFormats=["banner","native"],t)1==t[p]&&(t[p]="true"),0==t[p]&&(t[p]="false");d.keywords=t,he.apntag.eanq.push(d)}},ge.loadSSPSpots=function(){if(pe.prebid){if(0<ge.prebid_que.length)for(e=0;e<ge.prebid_que.length;e++);}else if("ast"==pe.sspTAG&&he.apntag&&he.apntag.eanq&&(he.apntag.anq=he.apntag.anq||[],0<he.apntag.eanq.length))for(var e=0;e<he.apntag.eanq.length;e++){var t=he.apntag.eanq[e];ge.loadASTTag(t)}},ge.loadASTTag=function(e){he.apntag.anq.push((function(){he.apntag.defineTag(e),he.apntag.onEvent("adAvailable","apn_ad_"+e.invCode,(function(e){switch(e.adType){case"native":ge.parseOpenRTBNativeAd(e);break;case"banner":if("csm"==e.source){for(var t=he.apntag.eanq,a=0;a<t.length;a++)if(e.tagId==t[a].tagId){t[a].ad&&t[a].ad.mediatedContent&&ge.loadDataInIFrame(t[a].ad.mediatedContent,!1,e.tagId);break}break}if(ge.loadDataInIFrame(e.banner.content),e.banner.trackers)for(var n=e.banner.trackers.concat();n.length;)for(var i=n.shift();i&&i.impression_urls&&0<i.impression_urls.length;)he.ean.utils.loadScript(i.impression_urls.shift())}})),he.apntag.loadTags()}))},ge.makeCORSRequest=function(e){var t=new XMLHttpRequest;return"withCredentials"in t?t.open("GET",e,!0):"undefined"!=typeof XDomainRequest?(t=new XDomainRequest).open("GET",e):t=null,t},ge.loadQuantumAd=function(e,t){e.hb_native&&(e.native=JSON.parse(e.hb_native)),e.dsp="Quantum",e.placementId=t,ge.initNativeAd(e)},ge.QuantumCriteoAd=function(e){var t={},a=null;if(!e.hb_criteo)return!1;a=JSON.parse(e.hb_criteo),ge.console.log("Criteo Quantum oRTB Ad:",e,a);var n=a.link,i=[],r="";a.jstracker&&(r=a.jstracker),a.imptrackers&&(i=a.imptrackers);var s=[];e.sync&&(s=e.sync),e.nurl&&i.push(e.nurl),a.view_notice_tracker&&i.push(a.view_notice_tracker),t.title=t.main_image=t.content=t.sponsor_logo=t.sponsor_name=t.sponsor_url=t.expanded_summary=t.full_text=t.autoexpand_content_type=t.teaser_type=t.video_url="",t.content_type="content_link",t.expanded_content_type="none",a.image_url&&(t.main_image=a.image_url),a.title&&(t.title=a.title),a.description&&(t.content=a.description),a.adomain&&a.adomain&&(t.sponsor_name=a.adomain,t.sponsor_url="//"+a.adomain);var o=a.click_url;t.sponsor_url||(t.sponsor_url=o),he.ean.dspLoadExtras[e.ah]=function(e){e=e.querySelector(".ead_adchoice")?e.querySelector(".ead_adchoice"):e;var t=he.document.createElement("a");""==e.style.position&&(e.style.position="relative"),t.href=a.privacy.click_url,t.target="_blank",t.style.display="block",t.style.position="absolute",t.style.top="5px",t.style.right="5px",t.style.margin="0px",t.style.padding="0px",t.style.border="none",t.style.height="auto",t.style.width="auto",t.style.zIndex="9999",t.innerHTML='<img src="'+a.privacy.image_url+'" style="width:19px; height:15px;">',e.appendChild(t)};var l,c={settings:{ah:e.ah,sharer_domain:null,click_trackers_images:n.clicktrackers,dynamic_variables:!!t.dynamic_variables&&JSON.parse(t.dynamic_variables),tags:{autoexpand_content_type:t.autoexpand_content_type,brand_logo:t.sponsor_logo,brand_name:t.sponsor_name,brand_url:t.sponsor_url,content_link:o,content_type:t.content_type,expanded_content_type:t.expanded_content_type,expanded_summary:t.expanded_summary,image_landscape:t.main_image,image_large_landscape:t.main_image,image_landscape_4x3:t.main_image,image_portrait:t.main_image,image_square:t.main_image,overlay_content:"",overlay_content_type:"embed",summary:t.content,teaser_type:t.teaser_type,title:t.title,video_url:t.video_url,full_text:t.full_text},type:"native"}};for(var d in ge.show(c),i){i[d]&&((l=he.document.createElement("img")).src=i[d],l.style.display="none",he.document.getElementsByTagName("body")[0].appendChild(l))}if(r){var p=/<script[^>]*>([\s\S]+?)<\/script>/gi.exec(r);if(0<p.length){var u=p[1].replace("var js_tracker = ['","").replace("']","").split("', '");if(0<u.length)for(he.ean.console.log("scripts",u);u&&0<u.length;)he.ean.utils.loadScript(decodeURIComponent(u.shift()),null,null,!0)}}for(var d in(a.eventtrackers||[]).forEach(he.ean.utils.loadImpressionEventTracker.bind(he.ean.utils)),s){s[d]&&((l=he.document.createElement("img")).src=s[d],l.style.display="none",he.document.getElementsByTagName("body")[0].appendChild(l))}},ge.addAdChoicesIcon=function(e,t){(t=t||{}).click_url||(t.click_url="http://www.adux.com/en/privacy/"),t.image_url||(t.image_url=ge.getURLPath("adChoiceIcon")),e=e.querySelector(".ead_adchoice")?e.querySelector(".ead_adchoice"):e;var a=he.document.createElement("a");he.ean.console.log("addAdChoiceIcon:",e,t);var n=null!==e.querySelector(".ea_link_cover .ead_content");""==e.style.position&&(e.style.position=n?"fixed":"relative"),a.href=t.click_url,a.target="_blank",a.className+=" ead_adchoice_url",a.style.display="block",a.style.position="absolute",n?(a.style.top="50px",a.style.right="50px"):(a.style.top="5px",a.style.right="5px"),a.style.margin="0px",a.style.padding="0px",a.style.border="none",a.style.height="auto",a.style.width="auto",a.style.zIndex="9999",a.innerHTML='<img class= "ead_adchoice_logo" src="'+t.image_url+'" style="width:16px; height:16px;">',n?e.querySelector(".ea_link_cover .ead_content").appendChild(a):e.appendChild(a)},ge.renderOutstreamVideo=function(e){ge.console.log("renderOutstreamVideo=",e);var t=ge.placementsById[e.placementId];return ge.clear(t.pid).then((function(){ge.configureDomo(t).utils.replaceHtml('<div id="'+e.code+'" class="ean_element ead_'+e.placementId+'"></div>',{},t.template.selector[0],t.template.method||t.method,t,t.template,!1),he.eanpbjs.renderAd(ve,e.hb_adid)})),!0},ge.QuantumInit=function(e){if(ge.console.log("Quantum:",e,typeof e.native),e.hb_criteo)ge.QuantumCriteoAd(e);else{var t={},a=e.native;if(!a)return!1;ge.console.log("Quantum oRTB Ad:",a);var n=a.assets,i=a.link,r="";a.jstracker&&(r=a.jstracker);var s=[];a.imptrackers&&(s=a.imptrackers);var o=[];e.sync&&(o=e.sync),e.nurl&&s.push(e.nurl),t.title=t.main_image=t.content=t.sponsor_logo=t.sponsor_name=t.sponsor_url=t.expanded_summary=t.full_text=t.autoexpand_content_type=t.teaser_type=t.video_url="",t.image_portrait=t.image_landscape=t.image_large_landscape=t.image_landscape_4x3="",t.content_type="content_link",t.expanded_content_type="none";for(var l=0;l<n.length;l++){var c=n[l];switch(c.id){case 1:t.title=c.title.text;break;case 2:t.sponsor_logo=c.img.url;break;case 3:t.content=c.data.value;break;case 4:t.main_image=c.img.url;break;case 6:t.teaser_type="vast",t.video_url=c.video.vasttag;break;case 10:t.sponsor_name=c.data.value;break;case 2001:t.expanded_content_type="embed",t.expanded_summary=c.data.value;break;case 2002:t.expanded_content_type="vast",t.expanded_summary=c.data.value;break;case 2003:t.sponsor_url=c.data.value;break;case 2004:t.mobile_content=c.data.value;break;case 2005:t.content_type="internal_landing_page",t.internal_content_link=c.data.value;break;case 2007:t.autoexpand_content_type=c.data.value;break;case 2022:t.content_type="full_text",t.full_text=c.data.value;break;case 2030:t.dynamic_variables=c.data.value;break;case 31:t.image_portrait=c.img.url;break;case 32:t.image_landscape=c.img.url;break;case 33:t.image_large_landscape=c.img.url;break;case 34:t.image_landscape_4x3=c.img.url}}var d=i.url;t.sponsor_url||(t.sponsor_url=d),"full_text"===t.content_type&&(i.clicktrackers||(i.clicktrackers=[]),i.clicktrackers.push(d));var p,u={settings:{ah:e.ah,sharer_domain:null,click_trackers_images:i.clicktrackers,dynamic_variables:!!t.dynamic_variables&&JSON.parse(t.dynamic_variables),tags:{autoexpand_content_type:t.autoexpand_content_type,brand_logo:t.sponsor_logo,brand_name:t.sponsor_name,brand_url:t.sponsor_url,content_link:d,content_type:t.content_type,expanded_content_type:t.expanded_content_type,expanded_summary:t.expanded_summary,image_landscape:""===t.image_landscape?t.main_image:t.image_landscape,image_large_landscape:""===t.image_large_landscape?t.main_image:t.image_large_landscape,image_landscape_4x3:""===t.image_landscape_4x3?t.main_image:t.image_landscape_4x3,image_portrait:""===t.image_portrait?t.main_image:t.image_portrait,image_square:t.main_image,overlay_content:"",overlay_content_type:"embed",mobile_content_type:t.mobile_content&&""!==t.mobile_content?t.mobile_content.includes("ADSTR")?"adstory":"prism":"",mobile_content:t.mobile_content?t.mobile_content:"",summary:t.content,teaser_type:t.teaser_type,title:t.title,video_url:t.video_url,full_text:t.full_text},type:"native"}};for(var l in ge.show(u),(a.eventtrackers||[]).forEach(he.ean.utils.loadImpressionEventTracker.bind(he.ean.utils)),s){s[l]&&((p=he.document.createElement("img")).src=he.ean.utils.replaceCreativeMacros(s[l],{pid:e.placementId}),p.style.display="none",he.document.getElementsByTagName("body")[0].appendChild(p))}if(r){var m=/<script[^>]*>([\s\S]+?)<\/script>/gi.exec(r);if(0<m.length){var g=m[1].replace("var js_tracker = ['","").replace("']","").split("', '");if(0<g.length)for(he.ean.console.log("scripts",g);g&&0<g.length;)he.ean.utils.loadScript(he.ean.utils.replaceCreativeMacros(decodeURIComponent(g.shift()),{pid:e.placementId}),null,null,!0)}}for(var l in o){o[l]&&((p=he.document.createElement("img")).src=o[l],p.style.display="none",he.document.getElementsByTagName("body")[0].appendChild(p))}}},ge.defineQuantumSSPTag=function(t,e){for(var a in t.ssp){var n=t.ssp[a];if("quantum ssp"==n.ssp_name){e.auid=n.ssp_id;break}}var i=h+"//"+b+"?",r=[];for(var s in e)r.push(encodeURIComponent(s)+"="+encodeURIComponent(e[s]));i+=r.join("&");var o=ge.makeCORSRequest(i);o.onload=function(){var e=JSON.parse(o.responseText);e&&(e.type="quantum",e.placementId=t.pid,e.dsp="Quantum"),ge.initNativeAd(e)},o.onerror=function(){he.ean.console.log("Woops, there was an error making the request.")},o.send()},ge.getPreBidAdUnits=function(){return ge.adUnits},ge.sendLossNotification=function(e){if(e){var t=he.document.createElement("img");return t.src=e,t.style.display="none",he.document.getElementsByTagName("body")[0].appendChild(t),!0}return!1},ge.loadPreBidAd=function(e,a,t){function n(e,t){e&&(e.assets.forEach((function(e){if(e.title)t.title=e.title.text;else if(e.data)switch(e.data.type){case 1:t.sponsoredBy=e.data.value;break;case 2:t.body=e.data.value;break;case 3:t.rating=e.data.value;break;case 4:t.likes=e.data.value;break;case 5:t.downloads=e.data.value;break;case 6:t.price=e.data.value;break;case 7:t.salePrice=e.data.value;break;case 8:t.phone=e.data.value;break;case 9:t.address=e.data.value;break;case 10:t.body2=e.data.value;break;case 11:t.displayUrl=e.data.value;break;case 12:t.cta=e.data.value}else if(e.img)switch(e.img.type){case 2:t.icon={url:e.img.url,width:e.img.w,height:e.img.h};break;case 3:t.image={url:e.img.url,width:e.img.w,height:e.img.h}}})),e.eventtrackers?(t.impressionTrackers=t.impressionTrackers||[],e.eventtrackers.forEach((function(e){if(1!==e.event)return;switch(e.method){case 1:t.impressionTrackers.push(e.url);break;case 2:t.javascriptTrackers='<script src="'+e.url+'"><\/script>'}}))):(t.impressionTrackers=e.imptrackers||[],t.javascriptTrackers=e.jstracker),e.link&&(t.clickUrl=e.link.url,t.clickTrackers=e.link.clicktrackers),e.privacy&&(t.privacyLink=e.privacy))}var i,r;he.ean.console.log("!!! LoadPrebidAdInside before ajaxLoad",e),e.hb_native?((i={}).native=JSON.parse(e.hb_native),i.dsp="AppnexusNative",i.placementId=a,i.ortbNative=e.ortbNative,i.bid=e,i.is_dsp_criteo=!1,i.ortbNative&&i.ortbNative.assetsurl?(-1!==i.ortbNative.assetsurl.indexOf("criteo.com")&&(i.is_dsp_criteo=!0),he.ean.console.log("assetsurl found -> "+i.ortbNative.assetsurl),ge.utils.ajaxLoad(i.ortbNative.assetsurl,(function(e,t){he.ean.console.log("assetsurl loaded "+t);var a=JSON.parse(t);Object.keys(a).forEach((function(e){i.ortbNative[e]=a[e]})),n(i.ortbNative,i.native),ge.initNativeAd(i)}))):ge.initNativeAd(i)):e.hb_adUrl?ge.utils.ajaxLoad(e.hb_adUrl,(function(e,t){ge.loadDataInIFrame(t,!1,a)}),(function(e,t){})):e.hb_ad?(r="<html><head>"+e.hb_ad+"</head></html>",ge.loadDataInIFrame(r,!1,a)):e.hb_adid&&(e.placementId=a,e.code=t,this.renderOutstreamVideo(e))},ge.AppnexusNativeInit=function(a){if(ge.console.log("Appnexus/Improve native:",a),!a.native)return!1;var t=a.native,e=t.impressionTrackers||[];if(t.nurl&&e.push(t.nurl),t.content_type="content_link",t.expanded_content_type="none",t.jsTrackers=t.jsTrackers||t.javascriptTrackers,t.jsTrackers)for(var n in t.jsTrackers.constructor!==Array&&(t.jsTrackers=[t.jsTrackers]),t.jsTrackers)if("function"!=typeof t.jsTrackers[n]){var i=/<script[^>]*>([\s\S]*var js_tracker[\s\S]+?)<\/script>/gi.exec(t.jsTrackers[n]);if(i&&0<i.length&&"improvedigital"==a.bid.hb_bidder){var r=i[1].replace("var js_tracker = ['","").replace("']","").split("', '");if(0<r.length)for(he.ean.console.log("JS tracker scripts:",r);r&&0<r.length;)he.ean.utils.loadScript(he.ean.utils.replaceCreativeMacros(decodeURIComponent(r.shift()),{pid:a.bid.ssp_placement_id}),null,null,!0)}else{var s=ge.utils.parseContent(t.jsTrackers[n]);he.document.getElementsByTagName("body")[0].insertAdjacentHTML("beforeend",s)}}var o=(t.image&&t.image.url?t.image.url:t.image)||"",l=(t.icon&&t.icon.url?t.icon.url:t.icon)||"",c="",d=t.sponsor_name||"";t.sponsoredBy&&(-1!==t.sponsoredBy.indexOf("http")?c=t.sponsoredBy:(c=t.clickUrl,d=t.sponsoredBy)),(a.ortbNative&&a.ortbNative.assets||[]).forEach((function(e){if(e.data)switch(e.data.type){case 2001:t.expanded_content_type="embed",t.expanded_summary=e.data.value;break;case 2002:t.expanded_content_type="vast",t.expanded_summary=e.data.value;break;case 2003:t.sponsor_url=e.data.value;break;case 2004:t.mobile_content=e.data.value;break;case 2005:t.content_type="internal_landing_page",t.internal_content_link=e.data.value;break;case 2007:t.autoexpand_content_type=e.data.value;break;case 2022:t.content_type="full_text",t.full_text=e.data.value;break;case 2030:t.dynamic_variables=e.data.value}else if(e.img)switch(e.img.type){case 1031:t.image_portrait=e.img.url;break;case 1032:t.image_landscape=e.img.url;break;case 1033:t.image_large_landscape=e.img.url;break;case 1034:t.image_landscape_4x3=e.img.url}else e.video&&6===e.id&&(t.teaser_type="vast",t.video_url=e.video.vasttag)})),a.ortbNative&&a.ortbNative.ext&&a.ortbNative.ext.privacy&&(he.ean.dspLoadExtras[a.ah]=function(e){e=e.querySelector(".ead_adchoice")?e.querySelector(".ead_adchoice"):e;var t=he.document.createElement("a");""==e.style.position&&(e.style.position="relative"),t.href=a.ortbNative.ext.privacy.clickurl,t.target="_blank",t.style.display="block",t.style.position="absolute",t.style.top="5px",t.style.right="5px",t.style.margin="0px",t.style.padding="0px",t.style.border="none",t.style.height="auto",t.style.width="auto",t.style.zIndex="9999",t.innerHTML='<img src="'+a.ortbNative.ext.privacy.imageurl+'" style="width:19px; height:15px;">',e.appendChild(t)}),"full_text"!==t.content_type&&!t.mobile_content||(t.clickTrackers=t.clickTrackers||[],t.clickTrackers.push(t.clickUrl));var p,u={settings:{ah:a.ah,sharer_domain:null,click_trackers:t.clickTrackers||[],dynamic_variables:!!t.dynamic_variables&&JSON.parse(t.dynamic_variables),tags:{autoexpand_content_type:t.autoexpand_content_type||"",brand_logo:l,brand_name:d,brand_url:c,content_link:t.clickUrl,content_type:t.content_type,expanded_content_type:t.expanded_content_type,expanded_summary:t.expanded_summary||"",image_landscape:t.image_landscape||o,image_large_landscape:t.image_large_landscape||o,image_landscape_4x3:t.image_landscape_4x3||o,image_portrait:t.image_portrait||o,image_square:o,overlay_content:"",overlay_content_type:"embed",mobile_content_type:t.mobile_content?t.mobile_content.includes("ADSTR")?"adstory":"prism":"",mobile_content:t.mobile_content?t.mobile_content:"",summary:t.body,teaser_type:t.teaser_type||"",title:t.title,video_url:t.video_url||"",full_text:t.full_text||""},type:"native"}};for(var n in ge.show(u),e){e[n]&&"string"==typeof e[n]&&((p=he.document.createElement("img")).src=e[n],p.style.display="none",he.document.getElementsByTagName("body")[0].appendChild(p))}},ge.initMouseFlowAPI=function(e){var t;he.mfq=he.mfq||[],he.ean.mouseFlowJSLoaded||((t=ve.createElement("script")).type="text/javascript",t.async=!0,t.src="//cdn.mouseflow.com/projects/"+e+".js",ve.getElementsByTagName("head")[0].appendChild(t),he.ean.mouseFlowJSLoaded=!0)},ge.initSSPTag=function(o){var e;he.ean.console.log("##### InitSSPTAG #####",o),o.mouseflow_site_id&&o.website_page_url&&((e=he.location.hostname+he.location.pathname)!=o.website_page_url&&he.location.protocol+"//"+e!=o.website_page_url||ge.initMouseFlowAPI(o.mouseflow_site_id));var t=o.pid,a=ge.placements[t]||[],n="normal";a.push(o),ge.placements[t]=a,ge.placementsByAPXID[t]=o,he.ean.utils.isMobile()&&(n=he.ean.utils.isTablet()?"tablet":"phone");var s=he.ean.utils.getParameterByName("ean-test-quantx-hash"),l=he.ean.utils.getParameterByName("ean-test-cms-hash"),i=he.ean.utils.getParameterByName("ean-preview"),c=he.ean.utils.getParameterByName("ean-preview-creative-id");if(c){var r=h+k+"/getCreative?id="+c;(d=ge.makeCORSRequest(r)).onload=function(){var e=JSON.parse(d.responseText);if(!e[0].creative.settings)return!1;var t=JSON.parse(JSON.stringify(e[0].creative.settings)),a={};a.data=e[0].creative,a.data.settings.type="native",a.data.settings.ah=c;var n={type:"native"};n.placementId=o.pid,n.dsp="Quantum",n.dspData=t,n.ah=c,n.adUnit=o.pid;var i=ge.nativeAds[n.ah]||[];i.push(n),ge.nativeAds[n.ah]=i,n.adnxsId=n.adnxsId||n.adUnit;var r=n.placementId?n.placementId:ge.sspNativePlacementsDict[n.adnxsId],s=ge.placements[r];s&&null!=s.length&&(s=s.shift()),s&&(ge.processedPlacements[n.adnxsId]=ge.processedPlacements[n.adnxsId]||[],ge.processedPlacements[n.adnxsId].push(s)),ge.show(a.data)},d.onerror=function(){he.ean.console.log("Woops, there was an error making the request.")},d.send()}else if(s||l){var d,r=h+x+(s||l);l&&(r+="?cms-ad=true"),i&&(r+="?preview-mode=true"),(d=ge.makeCORSRequest(r)).onload=function(){var e=JSON.parse(d.responseText);if(!e.data.settings)return!1;var t=JSON.parse(JSON.stringify(e.data.settings));e.data.settings.type="native",e.data.settings.ah=s||l;var a={type:"native"};a.placementId=o.pid,a.dsp="Quantum",a.dspData=t,a.ah=s||l,a.adUnit=o.pid;var n=ge.nativeAds[a.ah]||[];n.push(a),ge.nativeAds[a.ah]=n,a.adnxsId=a.adnxsId||a.adUnit;var i=a.placementId?a.placementId:ge.sspNativePlacementsDict[a.adnxsId],r=ge.placements[i];r&&null!=r.length&&(r=r.shift()),r&&(ge.processedPlacements[a.adnxsId]=ge.processedPlacements[a.adnxsId]||[],ge.processedPlacements[a.adnxsId].push(r)),ge.show(e.data)},d.onerror=function(){he.ean.console.log("Woops, there was an error making the request.")},d.send()}else{var p="ea_pid_"+o.pid,u={ea_placement_id:o.pid,ea_placement_expandable:o.expandable||!1,ea_placement_accept_auto_expandable:null==o.accept_auto_expandable||o.accept_auto_expandable,ea_placement_sharing:o.sharing||!1,ea_placement_display_video:o.video_teaser||!1,ext_inv_code:p,status:o.status,include_inventory_company_id:o.inventory_company_id,include_inventory_master_company_id:o.inventory_master_company_id,exclude_inventory_company_id:o.inventory_company_id,exclude_inventory_master_company_id:o.inventory_master_company_id,ea_device:n,pt1:o.quantum_ssp_id?o.quantum_ssp_id:"",allow_ast:o.allow_ast?o.allow_ast:"",rtb_marketplace:!0};o.hasOwnProperty("rtb_marketplace")&&"false"===o.rtb_marketplace&&(u.rtb_marketplace=!1);var m=he.ean.utils.getParameterByName("ean-apx-test");m&&"true"==m&&(u.test=1),he.ean.utils.extend(u,o.template.placement_params),he.ean.utils.extend(u,pe.queryParams);try{if(o.template.placement_params_publisher)for(var g in o.template.placement_params_publisher)u[g]=he.encodeURIComponent(he.ean.utils.getValueFromPath(he,o.template.placement_params_publisher[g])).replace(/[!'()*]/g,escape)}catch(e){me.console&&me.console.log("EANative ERROR: Error adding placement_params_publisher:",e)}he.ean.console.log("### BidsConfig::",o,u,pe),pe.prebid?ge.HBPrepareBids(o,u):ge.defineSPPTag(o.placementID,u)}},ge.parseOpenRTBNativeAd=function(e){var t={type:"openRTB",ah:"",adnxsId:e.tagId,sid:"",pubid:"",country:"",cpid:"",cid:e.creativeId,csize:"1x1",auctionid:e.auctionId,clickTAG:"",clickTrackers:e.native.clickTrackers,sspData:"",uid:e.uuid,uip:"",cpCode:"",dsp:"openRTB",dspData:e.native,trackClicksInBackground:!0,enableEATrack:!1};ge.initNativeAd(t)},ge.openRTBInit=function(e){var t=e.dspData,a="";t.image&&0<t.image.url.length&&(a=t.image.url);var n="",i="";t.sponsoredBy?-1!==t.sponsoredBy.indexOf("http")?i=t.sponsoredBy:(i=t.clickUrl,n=t.sponsoredBy):i=t.clickUrl;var r={settings:{ah:e.ah,sharer_domain:null,tags:{autoexpand_content_type:"",brand_logo:t.icon.url,brand_name:n,brand_url:i,content_link:t.clickUrl,content_type:"content_link",expanded_content_type:"none",expanded_summary:"",image_landscape:a,image_large_landscape:a,image_landscape_4x3:a,image_portrait:a,image_square:a,overlay_content:"",overlay_content_type:"embed",summary:t.body,teaser_type:"",title:t.title,video_url:""},type:"native"}};for(ge.show(r);t.impressionTrackers&&0<t.impressionTrackers.length;)he.ean.utils.loadScript(t.impressionTrackers.shift())},ge.initAdstory=function(e){ge.adstory=e},ge.initPlacement=function(e,t){he.ean.console.log("initPlacement",e),ee=t=t||ee;for(var a=0;a<e.length;a++){var n=e[a];switch(he.ean.console.log("Check for placement container",n.pid,n),n.allow_ast&&(pe.sspTAG="ast"),"true"==he.ean.utils.getParameterByName("ean-test-ttj")&&(pe.sspTAG="ttj"),null==n.discover_child&&(n.discover_child=!1),(ge.placementsById[n.pid]=n).type){case"native":if(n&&he.ean.utils.checkStatus(n)&&n.template&&n.template.selector){if(t){if(W=!0,n.template.eanPlacementIdOnlyRequired&&!0===n.template.eanPlacementIdOnlyRequired&&t!==n.pid&&!n.discover_child){he.ean.console.log("initPlacement Skipped because eanPlacementIdOnlyRequired = true and &eanPlacementIdOnly != placement.id",n);continue}}else if(n.template.eanPlacementIdOnlyRequired&&!0===n.template.eanPlacementIdOnlyRequired){he.ean.console.log("initPlacement Skipped because eanPlacementIdOnlyRequired = true:",n);continue}if((pe.queryParams["force-pid"]&&n.pid==pe.queryParams["force-pid"]||!pe.queryParams["force-pid"])&&(W&&t&&n.pid==t||!W)||n.ignoreSequentialLoading||n.discover_child){var i=n.template.selector,r=n.template.alternative_selectors?n.template.alternative_selectors:null;r&&!he.ean.utils.isArray(r)&&(r=[r]),he.ean.utils.isArray(i)||(i=[i]);for(var s=!1,o=i,l=0;l<i.length;l++){n.template.check_selector_with_interval&&-1<!i[l].includes(":not(.ea-old)")&&(i[l]+=":not(.ea-old)"),o=i[l];var c,d=null;try{d=he.document.querySelector(o)}catch(e){}if(!d&&r)if(r[l])for(c=0;c<r[l].length;c++){o=r[l][c];try{d=he.document.querySelector(o)}catch(e){}if(d){n.template.selector=o;break}}if(d){if(1==n.template.fixedPosition){if(d.children.length<parseInt(n.template.position)){s=!1;break}s=!0;break}s=!0;break}}if(s){var p=n.placementID||n.pid;he.ean.console.log("##### PlacementContainerFound:",n.pid,d),(he.ean.utils.getParameterByName("ean-test-native")||he.ean.utils.getParameterByName("ean-testall-native"))&&(p=pe.defaultPlacementId,n.ssp=[{ssp_id:pe.defaultPlacementId,ssp_name:"quantum"}]),n.placementID=p;var u=n.template.method||n.method;switch(u){default:!0!==n.sspParsed&&("true"==he.ean.utils.getParameterByName("ean-placement-preview")||"1"==he.ean.utils.getParameterByName("ean-isinpreview")||"true"==String(n.skip_visibility_test)||he.ean.utils.isElementVisible(o,u,n))?(n.sspParsed=!0,ge.initSSPTag(n),ge.removePlacementForScrollingChecking(n)):ge.addPlacementForScrollingChecking(n);break;case"every":n.template.position=parseInt(n.template.position),isNaN(n.template.position)&&(n.template.position=0);for(var m=ge.utils.getValidChildren(n.template.child_selector?he.document.querySelectorAll(n.template.child_selector):d.children),g=[],h=0;h<m.length;h++){var v=m[h].getAttribute("class");v&&-1!=v.indexOf("ean_element")||g.push(m[h])}var _=n.template.position,f=n.template.frequency||2,y=(g.length-_)/f+1,y=Math.max(Math.round(y),0);n.sspParsed||(n.sspParsed={});for(var b,x=!1;y;){n.sspParsed[_]||("true"==he.ean.utils.getParameterByName("ean-placement-preview")||"1"==he.ean.utils.getParameterByName("ean-isinpreview")||"true"==String(n.skip_visibility_test)||he.ean.utils.isElementVisible(o,u,n,_)?((b=JSON.parse(JSON.stringify(n))).template.position=_<d.children.length-1&&g[_]?he.ean.utils.getElementIndex(d.children,g[_]):"last",b.template.method="insert_at",ge.initSSPTag(b),n.sspParsed[_]=!0):x=!0),y--,_+=f}0==x?ge.removePlacementForScrollingChecking(n):ge.addPlacementForScrollingChecking(n)}}else{(!n.parsed&&n.template.initDelay||n.template.check_selector_with_interval)&&(n.parsed=!0,clearTimeout(n.delayTimer),he.ean.console.log("placementContainer NOT FOUND:"),(function(e){e.delayTimer=setTimeout((function(){ge.initPlacement([e],ee)}),parseInt(e.template.initDelay||1e3))})(n))}}}break;case"article":if(n&&he.ean.utils.checkStatus(n)&&n.article_template&&n.articlePID===he.ean.utils.getParameterByName("ean-article-pid")){var k=decodeURIComponent(atob(he.ean.utils.getParameterByName("adArticleJsonPath")));return k||he.ean&&(he.ean.eanArticleSettings=he.ean.eanArticleConfig||[],he.ean.eanArticleSettings.push(he.ean.utils.getParameterByName("ean-article-id"))),ge.loadAdSettings(k,n.placementID),void(ge.articlePlacement=n)}}}if(ge.loadSSPSpots(),!he.ean.retargetPixelLoaded)for(a=0;a<e.length;a++)if("true"==e[a].allow_retarget_pixel){ge.callRetargetingPixels(),he.ean.retargetPixelLoaded=!0;break}this.utils.emit("postInitPlacement")},ge.trackClickTag=function(e){he.ean.console.log("trackClickTag",e);var t=[],a=[];for(e.click_trackers_images&&null!=e.click_trackers_images&&(0<e.click_trackers_images.length?a=a.concat(e.click_trackers_images):a.push(e.click_trackers_images)),e.click_trackers&&null!=e.click_trackers&&(0<e.click_trackers.length?t=t.concat(e.click_trackers):t.push(e.click_trackers)),e.adnx&&(e.adnx.clickTAG&&t.push(e.adnx.clickTAG),null!=e.adnx.clickTrackers&&(0<e.adnx.clickTrackers.length?t=t.concat(e.adnx.clickTrackers):t.push(e.adnx.clickTrackers)));t.length;)he.ean.utils.loadScript(t.shift());for(;a.length;)he.ean.utils.loadTrackerImage(a.shift())},ge.initNativeAd=function(e){he.ean.console.log("ean initNativeAd:",e,ge.sspNativePlacementsDict),e.ah||(e.ah="c_"+he.ean.utils.getRand());var t,a=ge.nativeAds[e.ah]||[];a.push(e),ge.nativeAds[e.ah]=a,e.adnxsId=e.adnxsId||e.adUnit,!e.placementId&&e.adnxsId&&ge.placements[e.adnxsId]&&(ge.sspNativePlacementsDict=ge.sspNativePlacementsDict||[],(t=ge.sspNativePlacementsDict[e.adnxsId]||!1)&&(ge.placements[t]=ge.placements[e.adnxsId],delete ge.placements[e.adnxsId]));var n,i,r,s,o=e.placementId?e.placementId:ge.sspNativePlacementsDict[e.adnxsId],l=ge.placements[o];l&&null!=l.length&&(l=l.shift()),he.ean.console.log("placementData:",l),l&&(ge.processedPlacements[e.adnxsId]=ge.processedPlacements[e.adnxsId]||[],ge.processedPlacements[e.adnxsId].push(l),"native"==e.type?(n=e.adTeaserJsonPath?e.adTeaserJsonPath:oe.nativeURL.replace("{hash}",e.ah),e.dsp&&!ge.isIntegrationDSP[e.ah]&&(he.ean&&(he.ean.eanArticleSettings=he.ean.eanArticleConfig||[],he.ean.eanArticleSettings.push(e.ah)),ge.loadAdSettings(n,l.pid))):ge[e.dsp+"Init"]?he.ean.iframes[e.adnxsId]&&void 0!==he.ean.iframes[e.adnxsId].contentWindow.APN_macros?(i=null,(r=he.ean.iframes[e.adnxsId].contentWindow).ean=r.ean||{},r.ean.placementDefaultCreativeHandler=r.ean.placementDefaultCreativeHandler||function(e){he.ean.placementDefaultCreativeHandler(e)},r.ean.initNativeAd=r.ean.initNativeAd||function(e){he.ean.initNativeAd(e)},i=(s=he.ean.iframes[e.adnxsId].contentDocument.getElementsByTagName("iframe"))[s.length-1],he.ean.utils.loadScript(oe.integrationHelperURL.replace("{dsp}",e.dsp),(function(){ge[e.dsp+"Init"](e)}),i)):ge[e.dsp+"Init"](e):(i=null,he.ean.iframes[e.adnxsId]&&void 0!==he.ean.iframes[e.adnxsId].contentWindow.APN_macros&&((r=he.ean.iframes[e.adnxsId].contentWindow).ean=r.ean||{},r.ean.placementDefaultCreativeHandler=r.ean.placementDefaultCreativeHandler||function(e){he.ean.placementDefaultCreativeHandler(e)},r.ean.initNativeAd=r.ean.initNativeAd||function(e){he.ean.initNativeAd(e)},i=(s=he.ean.iframes[e.adnxsId].contentDocument.getElementsByTagName("iframe"))[s.length-1]),he.ean.utils.loadScript(oe.integrationHelperURL.replace("{dsp}",e.dsp),(function(){ge[e.dsp+"Init"](e)}),i)))},ge.DFPInit=function(e){he.ean.console.log("DFP-INIT",e);var t=e.dspData,a=t.image,n={settings:{ah:e.ah,sharer_domain:null,tags:{autoexpand_content_type:"",brand_logo:t.logo,brand_name:t.advertiser,brand_url:"",content_link:t.actionUrl,content_type:"content_link",expanded_content_type:"none",expanded_summary:"",image_landscape:a,image_large_landscape:a,image_landscape_4x3:a,image_portrait:a,image_square:a,overlay_content:"",overlay_content_type:"embed",summary:t.body,teaser_type:"",title:t.headline,video_url:""},type:"native"}};he.ean.console.log("DFP-INIT showNative:",n),he.ean.show(n)},ge.initGoogleAd=function(e){he.ean.console.log("initGoogleAd:",e),"dfp-native"===e.type&&ge.initNativeAd(e)},ge.showPrismFormat=function(e){return e.tags&&"prism"==e.tags.mobile_content_type&&e.tags.mobile_content&&""!=e.tags.mobile_content},ge.showAdstoryFormat=function(e){return e.tags&&"adstory"==e.tags.mobile_content_type&&e.tags.mobile_content&&""!=e.tags.mobile_content},ge.loadAdSettings=function(e,t){he.ean.utils.getParameterByName("ean-test-quantx-hash")&&he.ean.utils.getParameterByName("ean-preview")&&(e+="_temp");var a=he.document.createElement("script");a.type="text/javascript",e+=-1!=e.indexOf("?")?"&":"?",a.src=e+"r="+he.ean.utils.getRand()+"&uid="+pe.uid+"&vid="+(new Date).getTime()+"."+Math.random().toString(36).slice(-8)+"&pid="+t,he.document.getElementsByTagName("head")[0].appendChild(a)},ge.createVId=function(){return(new Date).getTime()+"."+Math.random().toString(36).slice(-8)},ge.configureDomo=function(e){if(e.domo&&0<parseInt(e.domo,10)){if(null!==e.domo_limit&&parseInt(e.domo_limit,10)<=0)return he.ean.console.log("%cPlacement %s won't domo anymore","color:firebrick;",e.pid),this;he.ean.console.log("%cPlacement %s has domo option","color:firebrick;",e.pid),setTimeout((function(){he.ean.console.log("%cPlacement %s is domoing","color:firebrick;",t.pid),t.domo_limit=null===t.domo_limit?null:parseInt(t.domo_limit,10)-1,t.sspParsed=!1,t.domoing=!0,he.ean.initPlacement([t],ee)}),1e3*(t=e).domo)}var t;return this},ge.configureIframeFooter=function(t,a){he.ean.utils.loadScript(T,(function(){t.iframefooter.target={selector:'[data-qtxpid="'+a.pid+'"]'};var e=V.createElement("script");e.type="text/javascript",e.innerText="var iframeFooter = new IframeFooter("+JSON.stringify(t.iframefooter)+");iframeFooter.build();",V.body.appendChild(e)}))},ge.clear=function(e){return Promise.all([].slice.call(ve.querySelectorAll('[data-qtxpid="'+e+'"]')).map((function(t){return new Promise(function(e){t.parentElement.removeChild(t),e()})})))},ge.show=function(l){he.ean.console.log("eaNative.show::",l),he.ean.processing=!1;var e,t,i,a,n,r="",s="";he.ean.utils.getParameterByName("ean-preview");if(l&&l.mediation&&(ge.freeMediationPlacementId(l.mediation.adnxsId),delete ge.placementsByAPXID[l.adnxsId]),l&&l.settings){switch(ge.nativeAdsSource[l.settings.ah]=l.settings,l.settings.type){case"native":var o=ge.nativeAds[l.settings.ah];if("full_text"!==l.settings.tags.content_type||l.settings.tags.full_text||(l.settings.tags.full_text=oe.articleURL.replace("{hash}",l.settings.ah)),l.settings.vid||(l.settings.vid=this.createVId()),l.settings.expand_vid||(l.settings.expand_vid=this.createVId()),!o||!o.length)return;if(a=o.shift(),l.settings.adnx=a,l.settings.adnxsId=a.adnxsId,(i=ge.processedPlacements[a.adnxsId])&&null!=i.length&&(i=i.shift()),!i)return;t=i.template,e=i.template.template_html,l.settings.tags["data-vid"]=l.settings.vid,l.settings.tags["data-expand-vid"]=l.settings.expand_vid,a.clickTAG&&(s=a.clickTAG),r=i.template.selector;break;case"article":i=ge.articlePlacement,l.settings.adnx=l.settings,l.settings.feac=he.ean.utils.getParameterByName("ean-feac"),l.settings.sid=he.ean.utils.getParameterByName("ean-sid"),l.settings.pubid=he.ean.utils.getParameterByName("ean-pubid"),l.settings.country=he.ean.utils.getParameterByName("ean-country"),l.settings.cpid=he.ean.utils.getParameterByName("ean-cpid"),l.settings.ah=he.ean.utils.getParameterByName("ean-article-id"),l.settings.uid=he.ean.utils.getParameterByName("ean-uid"),l.settings.vid=he.ean.utils.getParameterByName("ean-vid"),l.settings.adnxsId=he.ean.utils.getParameterByName("ean-pid"),l.settings.dsp=he.ean.utils.getParameterByName("ean-dsp"),a=l.settings,t=i.article_template,e=i.article_template.template_html,r=i.article_template.selector,i.pid=he.ean.utils.getParameterByName("ean-pid"),l.settings.tags.title&&(he.document.title=l.settings.tags.title),"overlay_content"!=l.settings.tags.content_type&&"internal_content_link"!=l.settings.tags.content_type||(l.settings.tags.full_text=ge.getHTMLTag(l.settings.tags,l.settings.tags.content_type))}if(ge.nativeAdsSourceByVid[l.settings.expand_vid]=ge.nativeAdsSourceByVid[l.settings.vid]=l.settings,ge.tagsIndexes={},ge.viewsTrack=[],i){ge.clear(i.pid),ge.configureDomo(i),l.settings.pid=i.pid;var c=(a.placementConfig=i).link||"",d=he.ean.utils.getParameterByName("ean-test-quantx-hash");if("prism"==l.settings.tags.mobile_content_type&&l.settings.tags.mobile_content.includes("ADSTR")&&(l.settings.tags.mobile_content_type="adstory"),ge.showAdstoryFormat(l.settings))c=ce+l.settings.tags.mobile_content+"Folder/index.html",he.ean.utils.loadScript(ce+l.settings.tags.mobile_content),he.ean.utils.loadScript(de,(function(){var e=ve.createElement("script");e.innerText="var adstory"+l.settings.pid+" = new AdStory("+JSON.stringify(ge.adstory)+");function showAdstory"+l.settings.pid+"(){adstory"+l.settings.pid+".toggle();}",ve.body.appendChild(e)}));else if(ge.showPrismFormat(l.settings))if(c=oe.prismContentURL+l.settings.tags.mobile_content+"/index.html",l.settings.tags.content_type="content_link",ge.prismCacheFlags||(ge.prismCacheFlags={}),null!=ge.prismCacheFlags[l.settings.tags.mobile_content]&&ge.prismCacheFlags[l.settings.tags.mobile_content].status)null!=ge.prismCacheFlags[l.settings.tags.mobile_content]&&ge.prismCacheFlags[l.settings.tags.mobile_content].status&&(l.settings.tags.prismFunction=ge.prismCacheFlags[l.settings.tags.mobile_content].function,l.settings.tags.prismFunctionArg="prism_iframe_"+ge.prismCacheFlags[l.settings.tags.mobile_content].function.replace("showPrism",""));else{ge.prismCacheFlags[l.settings.tags.mobile_content]={status:!0,function:"showPrism"+l.settings.pid},l.settings.tags.prismFunction=ge.prismCacheFlags[l.settings.tags.mobile_content].function,l.settings.tags.prismFunctionArg="prism_iframe_"+ge.prismCacheFlags[l.settings.tags.mobile_content].function.replace("showPrism","");var p=ve.createElement("div");p.setAttribute("id","prism_iframe_"+l.settings.pid),p.style.display="none",p.style.position="fixed",p.style.top="0",p.style.bottom="0",p.style.left="0",p.style.right="0",p.style.minWidth="100vw",p.style.height="100%",p.style.border="none",p.style.zIndex="2147483646",p.allowFullscreen=!0,p.style.overflowY="scroll",p.style.backgroundColor="#999",ve.body.appendChild(p);var u=he.ean.utils.insertHTML(p,ge.getHTMLTag(l.settings.tags,"prism",',"pre-cache":true'));ge.parseScripts(p.children);var m=ve.createElement("script");if(m.setAttribute("type","text/javascript"),m.innerText="var openOnce"+l.settings.pid+" = false;function showPrism"+l.settings.pid+'(iframe_id){var oldOverflow = $("body").css("overflow-y");$("body").css("overflow-y", "hidden");$("body").scrollTop(0);if (oldOverflow == undefined || oldOverflow == "") {$("body").css("overflow-y", "auto");} else {$("body").css("overflow-y", oldOverflow);}var container = document.getElementById(iframe_id);container.style.display = "block";var pid = iframe_id.split("_")[2];var closeIframeBtn = window.document.getElementById("closePrism_"+pid);closeIframeBtn.style.display = "inline-block";if (!openOnce'+l.settings.pid+"){openOnce"+l.settings.pid+" = true;",null!=u[0]&&u[0].forEach((function(e,t){var a=u[1][t];m.innerText=m.innerText+"window.document.getElementById('"+a+"').innerHTML = '"+e+"'+window.document.getElementById('"+a+"').innerHTML;",g++})),null!=u[2])for(var g in u[2])m.innerText=m.innerText+"var scriptNode = window.document.createElement('script');scriptNode.innerHTML = '"+u[2][g]+"';window.document.head.appendChild(scriptNode);";if(null!=u[3])for(var g in u[3])m.innerText=m.innerText+"var scriptNodeSrc = window.document.createElement('script');scriptNodeSrc.src = '"+u[3][g]+"';window.document.head.appendChild(scriptNodeSrc);";m.innerText=m.innerText+"}}",ve.body.appendChild(m);var h=ve.createElement("button");h.setAttribute("id","closePrism_"+l.settings.pid),h.style.cursor="pointer",h.style.top="5px",h.style.right="20px",h.style.position="fixed",h.style.color="#FFF",h.style.border="none",h.style.backgroundColor="transparent",h.style.fontWeight="bold",h.style.fontSize="42px",h.style.lineHeight="42px",h.style.minHeight="2rem",h.style.display="none",h.style.zIndex="9999999999",h.style.textShadow="-2px 0 black, 0 2px black, 2px 0 black, 0 -2px black",h.onclick=function(){var e=this.getAttribute("id").split("_")[1];ve.getElementById("prism_iframe_"+e).style.display="none";var t=ve.getElementsByTagName("VIDEO");for(var a in t)-1==["length","item","namedItem"].indexOf(a)&&(t[a].pause(),t[a].currentTime=0);this.style.display="none"},h.innerHTML="&times;",ve.body.insertBefore(h,ve.body.children[0])}else c=l.settings.tags&&"content_link"==l.settings.tags.content_type?l.settings.tags.content_link:(c+=-1==c.indexOf("?")?"?":"&",c+="ean-article-id={hash}&ean-article-pid={apid}&ean-uid={uid}&ean-vid={vid}&ean-pid={pid}&ean-sid={sid}&ean-cpid={cpid}&ean-pubid={pubid}&ean-country={ean-country}&ean-feac={feac}&ean-dsp={dsp}",he.ean.utils.getParameterByName("ean-test-native")&&(c+="&ean-test-native=true"),he.ean.utils.getParameterByName("ean-preview")&&(c+="&ean-preview=true"),he.ean.utils.getParameterByName("ean-testall-native")&&(c+="&ean-testall-native=true"),d&&(c+="&ean-test-quantx-hash="+he.ean.utils.getParameterByName("ean-test-quantx-hash"),isTestHash=!0),he.ean.utils.getParameterByName("ean-debug")&&(c+="&ean-debug=true"),"full_text"===l.settings.tags.content_type&&(c+="&adArticleJsonPath="+encodeURIComponent(btoa(encodeURIComponent(l.settings.tags.full_text)))),c=he.ean.utils.replaceParam(c,"hash",l.settings.ah),c=he.ean.utils.replaceParam(c,"apid",i.articlePID),c=he.ean.utils.replaceParam(c,"uid",pe.uid),c=he.ean.utils.replaceParam(c,"vid",l.settings.vid),c=he.ean.utils.replaceParam(c,"pid",i.pid),c=he.ean.utils.replaceParam(c,"sid",a.sid),c=he.ean.utils.replaceParam(c,"cpid",a.cpid),c=he.ean.utils.replaceParam(c,"pubid",a.pubid),c=he.ean.utils.replaceParam(c,"feac",a.feac),c=he.ean.utils.replaceParam(c,"ean-country",a.country),he.ean.utils.replaceParam(c,"dsp",a.dsp));d||(c=ge.utils.replaceCreativeMacros(c,a)),l.settings.tags.encoded_article_link=encodeURIComponent(c),l.settings.tags.encoded_title=encodeURIComponent(l.settings.tags.title),l.settings.tags.article_link=c,l.settings.tags.ah=l.settings.ah,"content_link"==l.settings.tags.content_type?l.settings.tags.share_page_url=l.settings.tags.content_link:l.settings.tags.share_page_url=encodeURIComponent(oe.sharePageUrl.replace("{ah}",l.settings.ah).replace("{encoded_article_link}",l.settings.tags.encoded_article_link).replace("{share_page_domain_url}",he.ean.utils.replaceDiacritics(String(l.settings.tags.brand_name)).replace(/[^\w\s]/gi,"").replace(/ /g,"-").toLowerCase()+"."+(l.settings.sharer_domain||oe.defaultSharePageUrl))),l.settings.tags.brand_url=c,s&&(c=a.clickTAG+encodeURIComponent(c),l.settings.tags.brand_url=a.clickTAG+encodeURIComponent(l.settings.tags.brand_url)),l.settings.tags.link=c;var v=t.method||i.method;he.ean.utils.isArray(r)||(r=[r]),he.ean.utils.isArray(e)||(e=[e]),he.ean.utils.isArray(v)||(v=[v]);var _=Object.prototype.toString;for(var g in l.settings.tags.image_landscape_4x3||(l.settings.tags.image_landscape_4x3=l.settings.tags.image_square),l.settings.tags){var f,y,b,x,k=l.settings.tags[g];if("[object String]"===_.call(k)&&"article_link"!==g&&(k=ge.utils.replaceCreativeMacros(k,a)),he.ean.utils.isArray(k)){for(var A=[],w=0;w<k.length;w++)k[w]&&null!=k[w]&&"null"!==k[w]&&A.push({value:k[w],position:w});var I,k=A[Math.floor(Math.random()*A.length*.999999999)].value;-1!=e.join().indexOf("{"+g+"}")&&(I={ih:ge.tagsIndexes[g]=k,eis:102},ge.viewsTrack.push(I))}t.images_size&&""!==k&&t.images_size[g]&&(y=k,"a"!=l.settings.adnx.dsp?(f=ue.encode(k),y=he.ean.utils.base64url_encode(f),l.settings.tags["original_"+g]=k):l.settings.tags["original_"+g]=oe.originalImagesPath.replace("{hash}",k),"a"===l.settings.adnx.dsp&&(y=ge.getURLPath("eaOriginalImagesPath").replace("{hash}",y),y=ue.encode(y),y=he.ean.utils.base64url_encode(y)),l.settings.tags["hash_"+g]=y,b=le[g]||le.defaultScale,t.images_scalemode&&t.images_scalemode[g]&&(b=t.images_scalemode[g]),"criteo"!=l.settings.adnx.dsp&&!l.settings.adnx.is_dsp_criteo||(b="scalebox"),"Quantum"==l.settings.adnx.dsp&&l.settings.adnx.hb_criteo&&((x=JSON.parse(l.settings.adnx.hb_criteo))&&0===x.fillimages&&(b="scalebox"),he.ean.console.log("CRITEO RESIZE MODE:",b,x)),k=ge.getURLPath("externalImagesPath",l.settings.adnx.dsp).replace("{hash}",y).replace("{wxh}",t.images_size[g]).replace("{scalemode}",b)),l.settings.tags[g]=k}for(g=0;g<r.length;g++)he.ean.utils.replaceHtml(e[g],l.settings,r[g],v[Math.min(g,v.length-1)],i,t);l.settings.performance=ge.tagsIndexes,l.settings.tags.iframefooter&&0<l.settings.tags.iframefooter.length&&(l.settings.tags.iframefooter=JSON.parse(l.settings.tags.iframefooter),l.settings.tags.iframefooter.hasOwnProperty("iframe")&&l.settings.tags.iframefooter.hasOwnProperty("opening")&&l.settings.tags.iframefooter.hasOwnProperty("redirect")?(l.settings.iframefooter=!0,ge.configureIframeFooter(l.settings.tags,i)):l.settings.iframefooter=!1)}if(he.ean.utils.getParameterByName("ean-test-ssp")||(l.mediation&&l.mediation.price_paid&&(l.settings.mediation={price:l.mediation.price_paid}),n=!0===i.domoing?l&&l.mediation?se:ie:l&&l.mediation?ne:ae,he.ean.trackEvent2({we:[{et:n}]},l.settings,null,!1)),"native"==l.settings.type){l.settings.tags.expanded_summary=he.ean.utils.replaceParam(l.settings.tags.expanded_summary,"CACHEBUSTER",Math.floor(1e5*Math.random())),l.settings.adnx&&(l.settings.tags.expanded_summary=he.ean.utils.replaceParam(l.settings.tags.expanded_summary,"CLICK_URL_ENC",encodeURIComponent(l.settings.adnx.clickTAG))),he.ean.utils.isMobile()&&"prism"==l.settings.tags.mobile_content_type&&(l.settings.tags.content_type="prism");for(var P=he.document.querySelectorAll(".ea_summary,.ea_expanded_summary"),g=0;g<P.length;g++){(q=P[g]).getAttribute("data-ea-parsed")||(q.setAttribute("data-ea-parsed","true"),q.setAttribute("data-vid",l.settings.expand_vid))}var S=he.document.querySelectorAll(".ea_expand,.ea_expand_hide");"none"!==String(l.settings.tags.expanded_content_type)&&"true"===String(i.expandable)&&"false"!=String(i.accept_auto_expandable)&&"true"===String(l.settings.tags.autoexpand_content_type)&&(l.settings.expand_status=!0,ge.clickExpandHide(l.settings));for(g=0;g<S.length;g++){if(!(q=S[g]).getAttribute("data-ea-parsed")){if(q.setAttribute("data-ah",l.settings.ah),q.setAttribute("data-vid",l.settings.vid),q.setAttribute("data-pid",i.pid),q.setAttribute("data-ea-content",l.settings.tags.content_type),!l.settings.tags.expanded_summary||"none"===String(l.settings.tags.expanded_content_type)){q.setAttribute("class",q.getAttribute("class")+" ea_link");continue}q.setAttribute("data-ea-parsed","true");function C(e){e=e||me.event;var t=this.getAttribute("data-vid"),a=ge.nativeAdsSourceByVid[t];return 1!=a.expand_status?(ge.clickExpandHide(a),a.expand_status=!0,ge.trackClickAction(q)):("click"==e.type||"touchend"==e.type&&he.ean.utils.isMobile())&&(this.getAttribute("href")==a.tags.link&&he.location.hostname!=he.ean.utils.getURLHostname(a.tags.article_link)&&this.setAttribute("target","_blank"),he.ean.console.log("Line2738"),ge.processLinkClickAction(this)),e&&(e.preventDefault?e.preventDefault():e.returnValue=!1),!1}q.onclick=q.ontouchend=C,i.FLAG_MOBILE_CLICK_BUGFIX&&he.ean.utils.isMobile()&&(q.ontouchend=null),he.ean.utils.isMobile()||"hover"!=l.settings.tags.autoexpand_content_type||"false"==String(i.accept_auto_expandable)||(q.onmouseover=C)}}for(var E=he.document.querySelectorAll(".ea_expand_close"),g=0;g<E.length;g++){(q=E[g]).getAttribute("data-ea-parsed")||(q.setAttribute("data-ah",l.settings.ah),q.setAttribute("data-vid",l.settings.vid),q.setAttribute("data-pid",i.pid),q.setAttribute("data-ea-parsed","true"),q.onclick=q.ontouchend=function(e){e=e||me.event;this.getAttribute("data-ah");var t,a=this.getAttribute("data-vid"),n=this.getAttribute("data-pid"),i=ge.nativeAdsSourceByVid[a],r=ge.placementsById[n],s=he.document.querySelector(".ea_summary[data-vid='"+i.vid+"']");s&&(t=null,r&&r.template&&r.template.max_chars&&r.template.max_chars.summary&&(t=r.template.max_chars.summary),he.ean.utils.insertHTML(s,he.ean.utils.strip(i.tags.summary,t)));var o=he.document.querySelector(".ea_expand_hide[data-vid='"+i.vid+"']");o&&(o.style.display=""),this.style.display="none";var l=he.document.querySelector(".ea_expanded_summary[data-vid='"+i.vid+"']");return l&&(he.ean.utils.insertHTML(l,""),l.style.display="none"),i.expand_status=!1,e&&e.preventDefault?e.preventDefault():e.returnValue=!1,!1},i.FLAG_MOBILE_CLICK_BUGFIX&&he.ean.utils.isMobile()&&(q.ontouchend=null))}for(var T,N=he.document.querySelectorAll(".ea_link"),g=0;g<N.length;g++){(q=N[g]).getAttribute("data-ea-parsed")||("adstory"==l.settings.tags.mobile_content_type?(q.onclick=function(e){return e.preventDefault(),e.stopPropagation(),this.setAttribute("target",""),ge.processLinkClickAction(this),he["showAdstory"+l.settings.pid](),!1},q.target=""):"prism"==l.settings.tags.mobile_content_type&&(q.onclick=function(e){return e.preventDefault(),e.stopPropagation(),this.setAttribute("target",""),ge.processLinkClickAction(this),he[l.settings.tags.prismFunction](l.settings.tags.prismFunctionArg),!1}),q.setAttribute("data-ea-parsed","true"),q.setAttribute("data-ea-content",l.settings.tags.content_type),q.setAttribute("data-ah",l.settings.ah),q.setAttribute("data-vid",l.settings.vid),q.setAttribute("data-pid",i.pid),"prism"!=l.settings.tags.mobile_content_type&&"adstory"!=l.settings.tags.mobile_content_type&&(l.settings.adnx&&"twenga"==l.settings.adnx.dsp&&q.setAttribute("rel","nofollow"),"content_link"==l.settings.tags.content_type&&q.setAttribute("target","_blank"),T="onclick",q.getAttribute("href")==l.settings.tags.link&&he.location.hostname!=he.ean.utils.getURLHostname(l.settings.tags.article_link)&&q.setAttribute("target","_blank"),"overlay_content"==l.settings.tags.content_type&&q.getAttribute("href")!=l.settings.tags.brand_url&&(q.setAttribute("oncontextmenu","return false"),q.oncontextmenu=function(e){return e&&e.preventDefault&&e.preventDefault(),!1},T="onmousedown"),q[T]=q.ontouchend=function(e){if(e=e||me.event,ge.processLinkClickAction(this),!l.settings.iframefooter)return e&&e.preventDefault?(e.preventDefault(),e.stopPropagation()):e.returnValue=!1,!1},i.FLAG_MOBILE_CLICK_BUGFIX&&he.ean.utils.isMobile()&&(q.ontouchend=null)))}ge.measureAndSendSizeEvent(a),l.settings.cache_lp&&Math.random()<l.settings.cache_lp&&he.setTimeout((function(){ge.loadLandingPageInIFrame(l.settings.tags.link)}),1e3),i.template.check_selector_with_interval&&he.setTimeout((function(){for(var e=he.document.getElementsByClassName("ead_"+i.pid),t=0;t<e.length;t++){var a=e[t].parentNode;void 0!==a&&(a.classList.contains("ea-old")||(a.className=a.className+" ea-old"))}void 0!==he.ean&&void 0!==i.pid&&(i.template.ea_native_element_added=!1,he.ean.placementsById[i.pid].sspParsed=!1,he.ean.initPlacement([he.ean.placementsById[i.pid]],ee))}),1e3)}for(var B=he.document.querySelectorAll(".ea_share"),g=0;g<B.length;g++){(q=B[g]).getAttribute("data-ea-parsed")||(q.setAttribute("data-ea-parsed","true"),q.setAttribute("data-ah",l.settings.ah),q.setAttribute("data-vid",l.settings.vid),q.setAttribute("data-pid",i.pid),q.onclick=q.ontouchend=function(e){e=e||me.event;this.getAttribute("data-ah");var t=this.getAttribute("data-vid"),a=(this.getAttribute("data-pid"),ge.nativeAdsSourceByVid[t]);he.ean.console.log("Line2903, click event",ge.nativeAdsSourceByVid,t);var n=!0===i.domoing?re:te;switch(ge.trackEvent2({ev:[{a:n}]},a),ge.trackClickTag(a),this.setAttribute("target","_blank"),this.getAttribute("data-eashare")){default:return;case"facebook":case"gplus":he.ean.utils.openURL(this.href,"_blank",null,"menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600")}return e&&e.preventDefault?e.preventDefault():e.returnValue=!1,!1},i.FLAG_MOBILE_CLICK_BUGFIX&&he.ean.utils.isMobile()&&(q.ontouchend=null))}for(var O in l.settings.tags)if(!l.settings.tags[O]||null!=l.settings.tags["hash_"+O]&&""==l.settings.tags["hash_"+O])for(var q,R=he.document.querySelectorAll(".ea_hide_"+O),g=0;g<R.length;g++){(q=R[g])&&!q.getAttribute("data-ea-hide-parsed")&&(q.setAttribute("data-ea-hide-parsed","true"),q.style.display="none")}for(var L=he.document.querySelectorAll(".ea_image"),g=0;g<L.length;g++){if(!(K=L[g]).getAttribute("data-ea-parsed")){if(i.video_teaser&&l.settings.tags.video_url&&-1<K.className.indexOf("ea_image_video")){K.parentNode.removeChild(K);continue}if(K.setAttribute("data-ea-parsed","true"),K.setAttribute("data-ea-dsp",l.settings.adnx.dsp),l.settings.adnx.is_dsp_criteo){K.setAttribute("data-ea-dsp-criteo","true");for(var D=he.document.querySelectorAll(".image_content"),M=0;M<D.length;M++){D[M].style.backgroundColor="white"}}K.complete||(K.onerror=function(){var e=this.getAttribute("src"),t=e.indexOf("image/")+6,a=e.indexOf("/",t),n=e.substring(t,a),i=this.getAttribute("data-ea-dsp"),r=e.split("-"),s=r[r.length-1],o=(o=r[0].split("/"))[o.length-1];n&&s&&o&&(he.ean.console.log("### hash la resize",n,s,o,e,l.settings),this.setAttribute("src",ge.getURLPath("externalResizeServerImagesPath",i).replace("{hash}",n).replace("{wxh}",s).replace("{scalemode}",o))),this.onerror=null})}}var U=he.document.querySelectorAll(".ea_video_vast");0<U.length&&ge.startPostMessageTracking(l.settings);for(g=0;g<U.length;g++){var H=U[g];if(!H.getAttribute("data-ea-parsed")){if(!i.video_teaser||!l.settings.tags.video_url){H.parentNode.removeChild(H);continue}H.setAttribute("data-ea-parsed","true"),H.setAttribute("data-ah",l.settings.ah),H.setAttribute("data-vid",l.settings.vid),H.setAttribute("data-pid",i.pid);var j={enable_sound_on_hover:!i.template.hasOwnProperty("enable_sound_on_hover")||i.template.enable_sound_on_hover};H.appendChild(ge.getHTMLTag(l.settings.tags,"video_url",l.settings.vid,j)),ge.teaserHasPauseOption(l.settings)&&ge.addVastVideosForScrollingChecking(H)}}var V=l.settings.dynamic_variables;if(V){"string"==typeof V&&(V=JSON.parse(V));for(g=0;g<V.length;g++)for(var F=he.document.querySelectorAll(".ea_creative_var_"+V[g].dynamic_variable),z=0;z<F.length;z++){var W=F[z];W.getAttribute("data-ea-parsed")||(W.innerHTML=V[g].dynamic_value,W.setAttribute("data-ea-parsed","true"))}}var J,G,X,$,Q,Y,K,Z=he.document.querySelectorAll("[data-eascript=true]");ge.parseScripts(Z),"article"==l.settings.type&&(J=l.settings.tags.use_skin_background,"true"===String(J)&&(Y=l.settings.tags.hash_skin_head_image,G=l.settings.tags.hash_skin_left_image,X=l.settings.tags.hash_skin_right_image,!(($=function(e){return!(!e||!e.length)})(Y)||$(G)||$(X))||(Q=he.document.querySelector(".ea_background_skin"))&&(Q.style.display="block",Y=l.settings.tags.original_skin_head_image,(K=new Image).onload=function(){var e=he.document.querySelector(".ea_background_skin .ea_skin_head");e&&(e.style.height=K.height+"px")},K.src=Y),he.document.body.style.background=l.settings.tags.skin_bgcolor))}},ge.teaserHasPauseOption=function(e){return Boolean(e&&(!e.hasOwnProperty("tags")||!e.tags.hasOwnProperty("vast_teaser_pause_option")||"1"===e.tags.vast_teaser_pause_option))},ge.trackClickAction=function(e){e.getAttribute("href");var t=e.getAttribute("data-vid"),a=(e.getAttribute("data-pid"),ge.nativeAdsSourceByVid[t]);he.ean.console.log("Line3068 - trackClickAction, click event",ge.nativeAdsSourceByVid,t),a.mediation&&(a.mediation.price=0);var n=!0===ge.placementsById[a.pid].domoing?a.mediation?o:re:a.mediation?s:te;ge.trackEvent2({we:[{et:n}]},a,null,!1)},ge.processLinkClickAction=function(e){e.getAttribute("data-ah"),e.getAttribute("data-pid");var t=e.getAttribute("data-vid"),a=ge.nativeAdsSourceByVid[t],n=e.getAttribute("data-ea-content"),i=e.getAttribute("href"),r=e.getAttribute("target"),s=r;switch(he.ean.console.log("processLinkClickAction",a,ge.nativeAdsSourceByVid),ge.trackClickAction(e),i==a.tags.brand_url&&(n="",r="_blank"),ge.showPrismFormat(a)?n="prism":ge.showAdstoryFormat(a)?n="adstory":a.hasOwnProperty("iframefooter")&&a.iframefooter&&(n="iframefooterNoRedirect"),"content_link"==n&&(r="_blank"),"true"==e.getAttribute("data-ea-target-set-by-placement")&&(r=s),n){default:(a.click_trackers||a.click_trackers_images)&&ge.trackClickTag(a),a.adnx&&1==a.adnx.trackClicksInBackground&&ge.trackClickTag(a),"_blank"==r?he.ean.utils.openURL(i,r):setTimeout((function(){he.ean.utils.openURL(i,r)}),500);break;case"prism":case"adstory":case"iframefooterNoRedirect":ge.trackClickTag(a),a.adnx.isInPreview&&ge.sendSizeEvent(ve.body.offsetWidth,Math.max(400,ve.body.offsetHeight));break;case"overlay_content":var o=ge.getOverlayContainer(t,n);he.ean.utils.insertHTML(o,ge.getHTMLTag(a.tags,n)),ge.trackClickTag(a),ge.parseScripts(o.children),he.document.body&&he.document.body.parentElement&&(he.document.body.style.overflow=he.document.body.parentElement.style.overflow="hidden"),a.adnx.isInPreview&&ge.sendSizeEvent(ve.body.offsetWidth,Math.max(400,ve.body.offsetHeight)),he.history.pushState({overlay:!0},null,null);var l=function(e){e&&(e.state,he.removeEventListener&&he.removeEventListener("popstate",l),ge.closeOverlayContent())};he.addEventListener&&he.addEventListener("popstate",l)}},ge.getAvailableMediationPlacementId=function(e){for(var t in pe.mediationPlacementIds)if(pe.mediationPlacementIds[t].available)return pe.mediationPlacementIds[t].available=!1,pe.mediationPlacementIds[t].placementAssignedId=e,t;return!1},ge.getLinkedMediationPlacementId=function(e){return!(!pe.mediationPlacementIds[e]||null===pe.mediationPlacementIds[e].placementAssignedId)&&pe.mediationPlacementIds[e].placementAssignedId},ge.freeMediationPlacementId=function(e){return pe.mediationPlacementIds[e].available=!0,!(pe.mediationPlacementIds[e].placementAssignedId=null)},ge.calculateMediationFloor=function(e){if(e.floor&&0<e.floor){var t=Number(e.floor);return e.currency&&(t=t/ge.exchangeRates[e.currency]*ge.exchangeRates.EUR),he.ean.console.log("Exchange rates:",e,ge.exchangeRates,t),0<t&&t<4?String((Math.ceil(10*t)/10).toFixed(1)):4<=t&&t<=9?String(Math.ceil(t).toFixed(1)):"9.0"}return!1},ge.initMediation=function(l){var c={};ge.exchangeRates={};var d=ge.getAvailableMediationPlacementId(l.id),p=ge.makeCORSRequest(oe.mediationExchangeRates);p.onload=function(){ge.exchangeRates=JSON.parse(p.responseText),ge.sspNativePlacementsDict[d]=l.id,ge.placementsByAPXID[d]=ge.placementsByAPXID[l.id],ge.mediationSetup={defaultPlacementId:l.id},he.ean.utils.extend(c,pe.nativeAdSizes.ttj);var e=h+"//"+y+"?";c.id=d;var t=[],a=ge.calculateMediationFloor(ge.placementsByAPXID[l.id]);for(var n in a&&t.push("mediation_floor="+a),c)t.push(encodeURIComponent(n)+"="+encodeURIComponent(c[n]));e+=t.join("&"),he.ean.console.log("%c!initMediation","color:green;font-weight:bold;",e,l,pe,c,ge.placementsByAPXID[l.id]);var i=j(),r=!!(-1<i&&i<10),s="";r&&(s="<script type='text/javascript'>window.closeDocumentInterval =setInterval(function(){var scripts = document.getElementsByTagName('script');console.log(scripts.length); if(scripts.length>2){window.clearInterval(window.closeDocumentInterval);document.close();} }, 500);<\/script>");var o="<html><head></head><body><script type='text/javascript' src='"+e+"'><\/script>"+s+"</body></html>";ge.iframes[d]=null,ge.loadDataInIFrame(o,!r,d)},p.onerror=function(){he.ean.console.log("Woops, there was an error making the request.")},p.send()},ge.placementDefaultCreativeHandler=function(e){e.mediation&&(e.id=ge.getLinkedMediationPlacementId(e.adnxsId),ge.freeMediationPlacementId(e.adnxsId),e.id&&(delete ge.placementsByAPXID[e.adnxsId],delete e.mediation));var t,a,n,i,r,s,o,l,c=ge.placementsByAPXID[e.id];try{if(!1===(void 0!==e.skip_mars_video&&e.skip_mars_video)&&c&&c.mars_video_config&&c.mars_video_config.url)return ge.console.log("%c!MarsMediaVideo ready for render: "+c.pid,"color:red;font-weight:bold;"),ge.renderMarsMediaVideo(c)}catch(e){he.ean.console.log("%c!MarsVideoError","color:red;font-weight:bold;",c)}if(he.ean.console.log("%c!defaultCreative","color:green;font-weight:bold;",c),he.ean.processing=!1,c){try{var d=JSON.parse(c.default_creative)}catch(e){return}c&&c.default_creative&&d&&d.html_content&&d.html_content_secure&&(t=c.template.selector,he.ean.utils.isArray(t)&&(t=t[0]),a=c.template.method||c.method,he.ean.utils.isArray(a)&&(a=a[0]),n={tags:{}},i="https:"==he.document.location.protocol,r=d.code||(i?d.html_content_secure:d.html_content),he.ean.trackEvent2({we:[{et:p}]},{},{placement_id:e.id},!1),"raw-js"==d.type?((s=ve.createElement("script")).setAttribute("type","text/javascript"),s.setAttribute("data-qtxpid",c.pid),s.text=r,(o=ve.getElementsByTagName("head")[0])&&o.appendChild(s)):(r=he.ean.utils.parseContent(r),he.ean.utils.replaceHtml(r,n,t,a,c,c.template,!0),l=he.document.querySelectorAll("[data-eascript=true]"),ge.parseScripts(l)))}},ge.getHTMLTag=function(e,t,a,n){a=void 0===a?"":a;var i="",r="",s="vastEmbed",o="min-height: 355px;";switch(t){case"prism":i=t,t="mobile_content";break;case"expanded_summary":"vast"==e.expanded_content_type&&(i="vast",r="max-height:355px");break;case"internal_content_link":i="external_url","auto"!=e.internal_content_link_height&&(r="height:"+e.internal_content_link_height+"px");break;case"overlay_content":"vast"==e.overlay_content_type&&(i="vast",r="max-width:640px;max-height:380px");break;case"video_url":i="vast",r="display:block;",s="vastTeaser",a=(o="")!==a?"&vid="+a:""}var l=(l=e[t]).replace(/\{UNIQUE_ID\}/g,"id-"+he.ean.utils.getRand());switch(i){case"external_url":var c='<iframe id="ean_external_embed" frameborder="0" width ="100%" height="315px" style="width:1px; min-width:100%;min-height: 315px;'+r+'" allowfullscreen="true" mozallowfullscreen="true" scrolling="'+(ge.utils.isIOS()||"auto"==e.internal_content_link_height?"no":"auto")+'" src="'+e.internal_content_link+'"></iframe>';return"auto"==e.internal_content_link_height&&(c+='<script>function listener(event){ if ( String(event.data).indexOf("ean_internal_height_") ==-1)return; var newHeight = String(event.data).substr(20) ;var iFrameContainer = document.getElementById("ean_external_embed"); if(Math.abs(iFrameContainer.offsetHeight-newHeight)<10)return ; iFrameContainer.style.height = newHeight+ "px";} if (window.addEventListener){ addEventListener("message", listener, false)} else {attachEvent("onmessage", listener)} <\/script>'),c;case"vast":if(1==e.vast_pause_option&&"vastEmbed"===s&&(a="&vpo=1&vid="+a),n&&n.hasOwnProperty("enable_sound_on_hover")&&(a+="&enable_sound_on_hover="+n.enable_sound_on_hover),"vastTeaser"!==s)return'<iframe frameborder="0" width ="100%" height="100%" style="'+o+r+'" allowfullscreen="true" mozallowfullscreen="true" src="'+oe[s]+encodeURIComponent(l)+a+'"></iframe>';var d=oe[s]+encodeURIComponent(l)+a,p="ea_vast_content|"+e.video_url,u=ve.createElement("iframe");return u.src=d,u.onload=function(){(u.contentWindow?u.contentWindow:u.contentDocument.document?u.contentDocument.document:u.contentDocument).postMessage(p,"*"),u.onload=null},u.setAttribute("frameborder",0),u.setAttribute("width","100%"),u.setAttribute("height","100%"),u.setAttribute("allowfullscreen","true"),u.setAttribute("mozallowfullscreen","true"),u;case"prism":var m=null;me.XDomainRequest?m=new XDomainRequest:me.XMLHttpRequest?m=new XMLHttpRequest:console.log("Votre navigateur ne gère pas l'AJAX cross-domain !");var g="";return m.onload=function(){g=m.responseText},m.open("GET",E+"/prism/"+e.mobile_content+"/index.html",!1),m.send(),g;default:return l}},ge.parseScripts=function(e){for(var t=[],a=0,n=e.length;a<n;a++){(i=e[a])&&"SCRIPT"==String(i.tagName).toUpperCase()&&!i.getAttribute("data-eaparsed")&&t.push(i)}for(var i,a=0,n=t.length;a<n;a++){if((i=t[a])&&"SCRIPT"==String(i.tagName).toUpperCase()&&!i.getAttribute("data-eaparsed")){var r=he.document.createElement("script");r.type="text/javascript",i.parentElement.appendChild(r),i.parentElement.removeChild(i);for(var s=i.attributes,o=0;o<s.length;o++)r.setAttribute(s[o].name,s[o].value);r.setAttribute("data-eaparsed",!0),i.src?r.src=i.src:r.text=i.innerHTML}}},ge.closeOverlayContent=function(){var e=he.document.getElementById("ea-overlay-content");e&&(e.style.display="none"),he.document.body&&he.document.body.parentElement&&(he.document.body.style.overflow=he.document.body.parentElement.style.overflow=""),e&&e.parentNode&&e.parentNode.removeChild(e);var t=e.getAttribute("data-vid"),a=ge.nativeAdsSourceByVid[t];ge.measureAndSendSizeEvent(a.adnx)},ge.getOverlayCloseButton=function(e){var t=he.document.createElement("div");switch(e){case"prism":t.innerHTML="<div style =\"background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAYCAYAAADKx8xXAAAAFHRFWHRTb2Z0d2FyZQBnbHVlLTAuMTEuMQ2IyEMAAAASdEVYdENvbW1lbnQANmUzZTQwZDliMpCixHYAAAB1SURBVHjaY2AgDXAwkAE4qqrrWlvbOgtI1vT9x4+fV69dv8nAwKBAkqbnz1+8TEvPtBnVNHw0MSFznjx99mLWzOlfyEpSp8+cu8jAwGAwqnl4az546MhJBgYGBRYiNf5oa21qZmBgYODm5n7NwMDwgIHc4hEAyhvOeKqBfrQAAAAASUVORK5CYII='); width: 14px; height: 24px; \"></div>",t.setAttribute("style","position:absolute; z-index:3147483657;left:10px;top:0px;  cursor: pointer;padding:10px; ");break;default:t.innerHTML="<div style ='background: url(http://de5zarwna0j2q.cloudfront.net/site/images/videoCloseBtn.png); width: 16px; height: 16px; '></div>",t.setAttribute("style","position:absolute; z-index:12234;right:10px;top:10px; opacity: 0.7;cursor: pointer;padding:14px; ")}return t.onmouseover=function(){t.style.opacity="1"},t.onmouseout=function(){t.style.opacity="0.7"},t.onclick=function(){ge.closeOverlayContent()},t},ge.getOverlayContainer=function(e,t){var a=he.document.getElementById("ea-overlay-content");a||((a=he.document.createElement("div")).innerHTML="<div id='ea-overlay-wrapper' style='display: table;width:100%;height:100%;'><div id='ea-overlay-inner-container' oncontextmenu='return false' style='display: table-cell;vertical-align: middle;text-align: center;width:100%;height:100%;'></div></div>",a.setAttribute("id","ea-overlay-content"),a.setAttribute("style","display:block;position:fixed;z-index: 3147483656;width:100%;height:100%;top:0;left:0;background:#000;background:rgba(0,0,0,0.8);"),a.appendChild(ge.getOverlayCloseButton(t))),a.setAttribute("data-vid",e);var n=a.children[0];return a.onclick=function(e){var t=(e=e||me.event).target;if((t=t||e.srcElement)==a.children[0]||t==n.children[0])return ge.closeOverlayContent(),!1},he.document.body.appendChild(a),n.children[0]},ge.trackEvent2=function(e,t,a,n){"use strict";var i,r,s,o;t?(n=n||l[t.type],(i={}).pid=t.pid||a.placement_id,i.h="nuid."+pe.uid+"."+i.pid,i.type=e,i.ft=n,i.ch=t.ah,i.uid=pe.uid,r="normal",he.ean.utils.isMobile()&&(r=he.ean.utils.isTablet()?"tablet":"phone"),i.dv=r,ge.console.log(">>> trackEvent2",he.ean.HBWinAdUnitData,"adSettings:",t,"placementDetails:",a),he.ean.HBWinAdUnitData&&he.ean.HBWinAdUnitData[t.pid]&&(i.cpm=he.ean.HBWinAdUnitData[t.pid].cpm,i.ssp=f[he.ean.HBWinAdUnitData[t.pid].hb_bidder],i.cid=i.cid||he.ean.HBWinAdUnitData[t.pid].hb_creative_id,i.ssp_pid=he.ean.HBWinAdUnitData[t.pid].ssp_placement_id),t.mediation&&t.mediation.price&&(i.cpm=t.mediation.price),a&&(a.ssp&&(i.ssp=a.ssp),a.ssp_placement_id&&(i.ssp_pid=a.ssp_placement_id),i.origin=1,a.origin&&"direct"===a.origin&&(i.origin=0)),(s=t).adnx&&(s=t.adnx),i.feac="true"===String(s.feac)?1:0,i.pubid=s.pubid,i.sid=s.sid,i.cpid=s.cpid,i.cid=s.cid,i.dsp=s.dsp||"",he.ean.console.log("%c!!! Tracking event triggered: ","color:orange;font-weight:bold;",i,e,t,n),o=oe.trackingURL+"?p="+ue.encode(JSON.stringify(i)),this.createNewPixel(o)):he.console&&he.console.log&&he.console.log("EA Error: - tracking failed")},ge.createNewPixel=function(e){var t=he.document.createElement("img");t.src=e,t.style.display="none",he.document.getElementsByTagName("body")[0].appendChild(t)},ge.setUID=function(e){!pe.uid&&e&&(pe.uid=e||0)},ge.loadPlacementData=function(){var e=he.ean.utils.getParameterByName("ean-article-id"),t=he.ean.utils.getParameterByName("ean-article-pid");e&&t&&(he.ean.utils.loadPlacementConfig(oe.articlePlacemensConfigURL),he.ean&&(he.ean.eanArticleConfig=he.ean.eanArticleConfig||[],he.ean.eanArticleConfig.push(t))),he.ean.utils.loadPlacementConfig(oe.nativePlacementsConfigURL)},ge.init=function(){1==ge.initialized&&!W||(he.ean.console.log("initEmbed"),ge.initialized=!0,he.ean.utils.getParameterByName("ean-uid")?ge.setUID(he.ean.utils.getParameterByName("ean-uid")):ge.setUID(he.ean.utils.guid()),ge.initPrebidJs(),ge.loadPlacementData())},ge.initPrebidJs=function(){he.ean.console.log("!!! INITPREBIDJS !!!",ge,he.ean),he.ean.prebid_que=he.ean.prebid_que||[],he.eanpbjs=he.eanpbjs||{};var e,t,a=he.eanpbjs;a.que=a.que||[],he.ean.prebidJSLoaded||((e=he.document.createElement("script")).type="text/javascript",e.async=!0,e.src=ge.prebidUrl,(t=he.document.getElementsByTagName("head")[0]).insertBefore(e,t.firstChild),he.ean.prebidJSLoaded=!0),a.que.push((function(){a.bidderSettings={standard:{adserverTargeting:[{key:"hb_adUrl",val:function(e){return e.adUrl}},{key:"hb_ad",val:function(e){return e.ad}},{key:"hb_bidder",val:function(e){return e.bidderCode}},{key:"hb_adid",val:function(e){return e.adId}},{key:"hb_pb",val:function(e){return e.pbHg}},{key:"hb_size",val:function(e){return e.size}},{key:"hb_creative_id",val:function(e){return e.creative_id||e.creativeId}},{key:"hb_native",val:function(e){if(he.ean.console.log(">>>>>> hb_native:",e),e.native)return JSON.stringify(e.native)}},{key:"hb_criteo",val:function(e){if(he.ean.console.log(">>>>>> hb_criteo:",e),e.cobj)return JSON.stringify(e.cobj)}},{key:"nurl",val:function(e){return e.nurl}},{key:"cpm",val:function(e){return e.cpm}}]}}}))},ge.HBPrepareBids=function(e,t){var a=e.pid,n=e.ssp||[];ge.sspNativePlacementsDict=ge.sspNativePlacementsDict||{};var i=[];he.googletag=he.googletag||{};var r=he.googletag;r.cmd=r.cmd||[],he.ean.console.log("###### HBprepareBids:",a,n);for(var s in!0===e.domoing&&(n=n.filter((function(e){return"appnexus"===e.ssp_name}))),ge.googleAdUnits=ge.googleAdUnits||{},n){var o=n[s];he.ean.console.log("ssp",o);var l=o.ssp_id;ge.sspNativePlacementsDict[l]=a,he.ean.console.log("aaaa",l,o.ssp_name);var c={params:{}};switch(o.ssp_name){case"appnexus":c.bidder="appnexus",c.params.placementId=l,c.params.keywords={},c.params.keywords.ssp_placement_id=l,c.params.ssp_placement_id=l,"true"===he.ean.utils.getParameterByName("prebidast_debug")&&(c.params.prebidast_debug={debug:he.ean.utils.getParameterByName("prebidast_debug"),dongle:he.ean.utils.getParameterByName("prebidast_dongle"),member_id:he.ean.utils.getParameterByName("prebidast_debug_member")});break;case"improvedigital":c.bidder="improvedigital",c.params.placementId=l,c.params.keyValues={hb:["true"]},c.params.ssp_placement_id=l;break;case"google":c.bidder="google",ge.googleAdUnits[a]=l;break;case"quantum":for(var d in c.bidder="quantum",c.params.auid=l,c.params.placementId=l,c.params.ssp_placement_id=l,t){"string"==typeof t[d]&&(t[d]=t[d].replace(/([%:.,])/gm,"_")),d!==d.replace(/([%:.,])/gm,"_")&&(t[d.replace(/([%:.,])/gm,"_")]=t[d],delete t[d])}}for(var p in t)t[p]=t[p].toString();if(c.params.keywords?he.ean.utils.extend(c.params.keywords,t):he.ean.utils.extend(c.params,t),o.key_value)for(p=0;p<o.key_value.length;p++){var u=o.key_value[p];for(var m in u)c.params.keywords?c.params.keywords[m]=u[m].toString():c.params[m]=u[m].toString()}try{if(e.template.placement_params_publisher)for(var g in e.template.placement_params_publisher)c.params.keywords?c.params.keywords[g]=he.encodeURIComponent(he.ean.utils.getValueFromPath(he,e.template.placement_params_publisher[g])).replace(/[!'()*]/g,escape):c.params[g]=he.encodeURIComponent(he.ean.utils.getValueFromPath(he,e.template.placement_params_publisher[g])).replace(/[!'()*]/g,escape)}catch(e){me.console&&me.console.log("EANative ERROR: Error adding placement_params_publisher:",e)}he.ean.console.log("###### EAdConfig.queryParams::",c.params),i.push(c)}he.ean.console.log("bids",i),ge.HBAddUnitsInQueue(a,i)},ge.HBAddUnitsInQueue=function(p,e){he.eanpbjs=he.eanpbjs||{};var u=he.eanpbjs;he.googletag=he.googletag||{};he.googletag;var m=ge.placementsByAPXID[p];if(0==e.length)return he.ean.console.log("1. placementData:",m),void(m.mediation_before_default_placement&&1==m.mediation_before_default_placement?ge.initMediation({id:p}):ge.placementDefaultCreativeHandler({id:p}));he.ean.console.log("%c!AddUnits in HB QUEUE...","color:blue;font-weight:bold;",p,e);function t(e,t){var a;e.length&&(a={code:i,mediaTypes:t,bids:e},void 0!==t.video&&(a.renderer={options:{audioOnMouseover:!1,skippable:{enabled:!1},adText:"fr-FR"===(navigator.language||navigator.userLanguage)?"Publicité":"Ad",showBigPlayButton:!1}}),g.push(i),n.push(a))}var n=[],g=[],a={banner:{sizes:[[1,1],[19,11],[19,12],[608,226],[608,227]]},native:{}},i="nhub-"+p+"-"+Math.random().toString(36).substring(7);t(e.filter((function(e){return"quantum"===e.bidder||"improvedigital"===e.bidder})),a),e.filter((function(e){return"appnexus"===e.bidder})).forEach((function(e){!0===m.outstream_video&&t([e],{video:{context:"outstream",playerSize:[300,250]}}),t([e],a)}));function h(e){v=v.concat(e.bids)}var v=[];u.que.push((function(){u.onEvent("bidRequested",h),u.addAdUnits(n),u.setConfig({consentManagement:{gdpr:{cmpApi:"iab",timeout:5e3,defaultGdprScope:!0,allowAuctionWithoutConsent:!0}}}),he.ean.console.log(" ######## AdUnits: ",g,n),u.requestBids({timeout:2e3,adUnitCodes:g,bidsBackHandler:function(e){var t=u.getHighestCpmBids().filter((function(e){return-1!==g.indexOf(e.adUnitCode)})),a=t.length?t[0].adserverTargeting:null;if(a&&t[0].ortbNative&&(a.ortbNative=t[0].ortbNative),u.offEvent("bidRequested",h),he.ean.console.log("%c!HBBidsRequests=","color:green;font-weight:bold;",v),he.ean.console.log("%c!HBBidsResponses=","color:green;font-weight:bold;",e,a),he.ean.renderDefaultCreative=function(){he.ean.console.log("%c![DefaultCreative]all bids","color:orange;font-weight:bold;");var e=p;he.ean.console.log("defaultCreative",p,e,m),m.mediation_before_default_placement&&1==m.mediation_before_default_placement?ge.initMediation({id:e}):ge.placementDefaultCreativeHandler({id:e});for(var t=0;t<v.length;t++){var a={placement_id:p,ssp_placement_id:v[t].params.ssp_placement_id||v[t].params.keywords.ssp_placement_id,ssp:f[v[t].bidder]};he.ean.trackEvent2({we:[{et:_}]},{},a,!1)}he.ean.configureDomo(m)},a&&a.hb_adid){for(var n,i=a,r=0;r<v.length;r++){v[r].bidId==i.hb_adid?(i.ssp_placement_id=null,v[r].params.ssp_placement_id?i.ssp_placement_id=v[r].params.ssp_placement_id:v[r].params.keywords.ssp_placement_id&&(i.ssp_placement_id=v[r].params.keywords.ssp_placement_id)):(n={placement_id:p,ssp_placement_id:v[r].params.ssp_placement_id||v[r].params.keywords.ssp_placement_id,ssp:f[v[r].bidder]},he.ean.trackEvent2({we:[{et:_}]},{},n,!1))}if(he.ean.HBWinAdUnitData=he.ean.HBWinAdUnitData||{},he.ean.HBWinAdUnitData[p]=i,he.ean.console.log("%cAnd the winner is: ","color:red;font-weight:bold;",i,p),"quantum"!==i.hb_bidder){var s=u.getBidResponses();for(var o in s)if(s.hasOwnProperty(o))for(var l=s[o].bids,c=0;c<l.length;c++){var d=l[c];"quantum"===d.bidder&&(he.ean.console.log("Send Loss Notification:",d.lurl),he.ean.sendLossNotification(d.lurl))}}if(ge.googleAdUnits[p]&&"google"===d.bidder)he.ean.utils.initGptSlot(m,g[0]);else switch(i.hb_bidder){case"quantum":he.ean.loadQuantumAd(i,p);break;default:he.ean.loadPreBidAd(i,p,t[0].adUnitCode)}}else ge.googleAdUnits[p]?he.ean.utils.initGptSlot(m):he.ean.renderDefaultCreative()}})}))},ge.removePlacementForScrollingChecking=function(e){if(0<ge.placementsNotVisible.length)for(var t in ge.placementsNotVisible)if(ge.placementsNotVisible[t]==e){ge.placementsNotVisible.splice(t,1);break}0==ge.placementsNotVisible.length&&he[D](M+"scroll",ge.windowScrollHandler,!1)},ge.addPlacementForScrollingChecking=function(e){var t=!1;if(0<ge.placementsNotVisible.length)for(var a in ge.placementsNotVisible)ge.placementsNotVisible[a]==e&&(t=!0);0==t&&(e.ignoreSequentialLoading=!0,ge.placementsNotVisible.push(e)),0<ge.placementsNotVisible.length&&1==e.template.check_visibility_with_interval&&(he.clearInterval(ge.checkPlacementVisibilityInterval),ge.checkPlacementVisibilityInterval=he.setInterval(ge.checkPlacementsNotVisibleHandler,100)),he.ean.checkVisibilityOnTop&&F()?he.ean.utils.getTopWindow(me)[0<ge.placementsNotVisible.length?L:D](M+"scroll",ge.windowScrollHandler,!1):he[0<ge.placementsNotVisible.length?L:D](M+"scroll",ge.windowScrollHandler,!1)},ge.windowScrollHandler=function(){he.clearTimeout(ge.placementCheckScrollInterval),ge.placementCheckScrollInterval=he.setTimeout(ge.checkPlacementsNotVisibleHandler,100)},ge.checkPlacementsNotVisibleHandler=function(){0<ge.placementsNotVisible.length&&ge.initPlacement(ge.placementsNotVisible,ee)},ge.removeVastVideosForScrollingChecking=function(e){if(0<ge.videosOnAutoPlay.length)for(var t in ge.videosOnAutoPlay)if(ge.videosOnAutoPlay[t]===e){ge.videosOnAutoPlay.splice(t,1);break}0==ge.videosOnAutoPlay.length&&(he.ean.checkVisibilityOnTop&&F()?he.ean.utils.getTopWindow(me)[D](M+"scroll",ge.windowVideoScrollHandler,!1):he[D](M+"scroll",ge.windowVideoScrollHandler,!1))},ge.addVastVideosForScrollingChecking=function(e){var t=!1;if(0<ge.videosOnAutoPlay.length)for(var a in ge.videosOnAutoPlay)ge.videosOnAutoPlay[a]===e&&(t=!0);!1===t&&ge.videosOnAutoPlay.push(e),he.ean.checkVisibilityOnTop&&F()?he.ean.utils.getTopWindow(me)[0<ge.videosOnAutoPlay.length?L:D](M+"scroll",ge.windowVideoScrollHandler,!1):he[0<ge.videosOnAutoPlay.length?L:D](M+"scroll",ge.windowVideoScrollHandler,!1)},ge.addAdElForScrollingChecking=function(e,t){he.ean.checkVisibilityOnTop&&F()?he.ean.utils.getTopWindow(me)[L](M+"scroll",(function(){ge.windowAdScrollHandler(e,t)}),!1):he[L](M+"scroll",(function(){ge.windowAdScrollHandler(e,t)}),!1)},ge.windowAdScrollHandler=function(e,t){he.clearTimeout(ge.vastAdsCheckScrollInterval),ge.vastAdsCheckScrollInterval=he.setTimeout(ge.checkAdsNotVisibleHandler(e,t),100)},ge.windowVideoScrollHandler=function(){he.clearTimeout(ge.vastVideosCheckScrollInterval),ge.vastVideosCheckScrollInterval=he.setTimeout(ge.checkVastVideosNotVisibleHandler,100)},ge.checkAdsNotVisibleHandler=function(e,t){var a=e.querySelectorAll(".ea-yahoo-integration-beacon");he.ean.utils.isElementVisiblePercent(e,50)&&a.length<1&&(he.clearTimeout(ge.vastAdsExtrasScrollInterval),ge.vastAdsExtrasScrollInterval=he.setTimeout((function(){he.ean.dspLoadExtras[t.settings.ah](e)}),1e3))},ge.checkVastVideosNotVisibleHandler=function(){if(0<ge.videosOnAutoPlay.length)for(var e=0;e<ge.videosOnAutoPlay.length;e++){var t=ge.videosOnAutoPlay[e].getAttribute("data-vid");he.ean.console.log("Video: "+t+" scroll visibility: "+(100-ge.getVisiblePercentForAd(t))),he.ean.utils.isElementVisiblePercent(ge.videosOnAutoPlay[e],ge.getVisiblePercentForAd(t))&&ge.videosOnAutoPlay[e].querySelector("iframe").contentWindow?ge.videosOnAutoPlay[e].querySelector("iframe").contentWindow.postMessage("ea_video_play|"+t,"*"):ge.videosOnAutoPlay[e].querySelector("iframe").contentWindow&&ge.videosOnAutoPlay[e].querySelector("iframe").contentWindow.postMessage("ea_video_pause|"+t,"*")}},ge.getVisiblePercentForAd=function(e){var t=ge.nativeAdsSourceByVid[e];return t.hasOwnProperty("tags")?t.tags.hasOwnProperty("expand_viewability")&&0<parseInt(t.tags.expand_viewability)&&t.hasOwnProperty("expand_vid")&&t.expand_vid===e?100-parseInt(t.tags.expand_viewability):t.tags.hasOwnProperty("viewability")&&!isNaN(parseInt(t.tags.viewability))&&0<parseInt(t.tags.viewability)&&t.vid===e?100-parseInt(t.tags.viewability):50:50},ge.startPostMessageTracking=function(){function e(e){var t,a;e.data&&e.data.indexOf&&(e.data&&-1<e.data.indexOf("ea_track_")&&(t=e.data.split("|")[1],a=ge.nativeAdsSourceByVid[t],ge.trackClickTag(a)),e.data&&-1<e.data.indexOf("expandVid_")&&ge.expandVideoTeaser(e.data),e.data&&-1<e.data.indexOf("closeVid_")&&ge.closeVideoTeaser(e.data))}he.addEventListener?he.addEventListener("message",e,!1):he.attachEvent("message",e),ge.postMesageTrackingEnabled=!0},ge.clickExpandHide=function(e){var t=he.document.querySelector(".ea_expand_close[data-vid='"+e.vid+"']");null!=t&&(t.style.display="block");var a=he.document.querySelector(".ea_summary[data-vid='"+e.vid+"']");he.ean.utils.insertHTML(a,e.tags.summary);var n,i=he.document.querySelector(".ea_expanded_summary[data-vid='"+e.expand_vid+"']");i&&(n=1==e.tags.vast_pause_option?e.expand_vid:"",he.ean.utils.insertHTML(i,ge.getHTMLTag(e.tags,"expanded_summary",n)),1==e.tags.vast_pause_option&&(ge.postMesageTrackingEnabled&&ge.startPostMessageTracking(e),ge.addVastVideosForScrollingChecking(i)),i.style.display="",ge.parseScripts(i.children));for(var r=he.document.querySelectorAll(".ea_expand_hide[data-vid='"+e.vid+"']"),s=0;s<r.length;s++)r[s].style.display="none";ge.measureAndSendSizeEvent(e.adnx)},ge.expandVideoTeaser=function(e){var t=he.document.querySelector('.ea_video_vast[data-vid="'+e.split("_")[1]+'"]'),a=he.ean.utils.getParentByClass(t,"ea_native_element");-1===a.className.indexOf("ea_click_expand_video")&&(a.className+=" ea_click_expand_video")},ge.closeVideoTeaser=function(e){var t=he.document.querySelector('.ea_video_vast[data-vid="'+e.split("_")[1]+'"]'),a=he.ean.utils.getParentByClass(t,"ea_native_element");a.className=a.className.replace("ea_click_expand_video","")},ge.sendSizeEvent=function(e,t){he.parent&&he.parent.postMessage("size_"+e+"x"+t,"*")},ge.measureAndSendSizeEvent=function(e){if(("true"==String(e.isInPreview)||"1"==String(e.isInPreview))&&he.parent){var t=e.placementConfig.template.selector;he.ean.utils.isArray(t)||(t=[t]);var a=null;for(var n in t)if(null!=(a=ve.querySelector(t[n])))break;a&&ge.sendSizeEvent(a.offsetWidth,a.offsetHeight)}},ge.callRetargetingPixels=function(){var e=he.location.protocol+"//cdn.elasticad.net/native/serve/js/custom/custom.gz.js";he.ean.utils.loadScript(e)},ge.renderMarsMediaVideo=function(e){var t,a,n,i;e.template&&e.template.selector&&(t=he.ean.utils.isArray(e.template.selector)?e.template.selector[0]:e.template.selector,a=he.document.querySelector(t)),a||(n="e"+he.ean.utils.getRand(),e.template.selector="#"+n,(a=he.document.createElement("div")).setAttribute("id",n),(i=he.document.getElementById("quantx-embed-tag"))?i.after(a):he.document.querySelector("body").appendChild(a));var r=he.document.createElement("div");r.setAttribute("id","ad-container"),a.appendChild(r);var s=he.document.createElement("script");s.type="text/javascript",s.src="//"+e.mars_video_config.url,r.appendChild(s),setTimeout((function(){he.document.querySelector("#av-container video")||(ge.placementsByAPXID[e.pid]=e,ge.placementDefaultCreativeHandler({id:e.pid,skip_mars_video:!0}))}),1e4)};var ue={alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",lookup:null,ie:/MSIE /.test(navigator.userAgent),ieo:/MSIE [67]/.test(navigator.userAgent),encode:function(e){var t,a,n=ue.toUtf8(e),i=-1,r=n.length,s=[,,,];if(ue.ie){for(var o=[];++i<r;)t=n[i+1],a=n[i+2],s[0]=n[i]>>2,s[1]=(3&n[i])<<4|n[++i]>>4,isNaN(t)?s[2]=s[3]=64:(s[2]=(15&n[i])<<2|n[++i]>>6,s[3]=isNaN(a)?64:63&n[i]),o.push(ue.alphabet[s[0]],ue.alphabet[s[1]],ue.alphabet[s[2]],ue.alphabet[s[3]]);return o.join("")}for(o="";++i<r;)t=n[i+1],a=n[i+2],s[0]=n[i]>>2,s[1]=(3&n[i])<<4|n[++i]>>4,isNaN(t)?s[2]=s[3]=64:(s[2]=(15&n[i])<<2|n[++i]>>6,s[3]=isNaN(a)?64:63&n[i]),o+=ue.alphabet[s[0]]+ue.alphabet[s[1]]+ue.alphabet[s[2]]+ue.alphabet[s[3]];return o},toUtf8:function(e){var t,a=-1,n=e.length,i=[];if(/^[\x00-\x7f]*$/.test(e))for(;++a<n;)i.push(e.charCodeAt(a));else for(;++a<n;)(t=e.charCodeAt(a))<128?i.push(t):t<2048?i.push(t>>6|192,63&t|128):i.push(t>>12|224,t>>6&63|128,63&t|128);return i}};ge.B64=ue;function q(){var e=ve.readyState;return!!(function(){var e=ve.readyState;if("complete"===e||"loaded"===e)return!0;if("interactive"!=e)return!1;if(!ve.documentElement.doScroll)return!0;try{return ve.documentElement.doScroll("left"),!0}catch(e){return!1}})()||("interactive"===e&&-1==navigator.appName.indexOf("Internet Explorer")||"loaded"===e||"complete"===e)}var R,L=ve.addEventListener?"addEventListener":"attachEvent",D=ve.addEventListener?"removeEventListener":"detachEvent",M=ve.addEventListener?"":"on",U=function(){return!!q()&&(he.adnxsDomReady=!0,ve[D](M+"DOMContentLoaded",U,!1),ve[D](M+"readystatechange",U,!1),he[D](M+"load",U,!1),H(),!0)},H=function(){ge.ean_window_ready&&!W||(ge.ean_window_ready=!0,he.clearInterval(ge.ieTimeout),he.ean.console.log("windowReady:",pe.queryParams),ge.init())},j=function(){var e,t=-1;return"Microsoft Internet Explorer"==navigator.appName&&(e=navigator.userAgent,null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(e)&&(t=parseFloat(RegExp.$1))),t};return q()?H():(ve[L](M+"DOMContentLoaded",U,!1),ve[L](M+"readystatechange",U,!1),he[L](M+"load",U,!1),-1<(R=j())&&R<9&&(ge.ieTimeout=he.setInterval((function(){U()&&he.clearInterval(ge.ieTimeout)}),500))),he.ean.loaded=!0,he.ean}F()&&(he=me.parent,ve=me.parent.document),W||-1!==me.location.href.indexOf("talktalk.co.uk")?setTimeout((function(){he.ean?he.ean.utils.waitOnce("postInitPlacement",(function(){he.ean.utils.removeListener("postInitPlacement",arguments.callee),delete he.ean.utils.eventRaised.postInitPlacement,-1!==me.location.href.indexOf("talktalk.co.uk")?setTimeout((function(){n()}),500):n()})):n()}),500):n()})(window,document);