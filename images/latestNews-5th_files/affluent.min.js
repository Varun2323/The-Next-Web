"use strict";var AFFLUENT=function(){const t={"avantlink.com":"ctc","awin1.com":"clickref","wixstats.com":"s2","afcyhf.com":"sid","anrdoezrs.net":"sid","apmebf.com":"sid","awltovhc.com":"sid","awxibrm.com":"sid","cj.com":"sid","commission-junction.com":"sid","cualbr.com":"sid","dpbolvw.net":"sid","emjcd.com":"sid","ftjcfx.com":"sid","jdoqocy.com":"sid","kdukvh.com":"sid","kqzfj.com":"sid","pkracv.com":"sid","qksrv.net":"sid","qksz.net":"sid","rnsfpw.net":"sid","tkqlhce.com":"sid","tqlkg.com":"sid","vofzpwh.com":"sid","yceml.net":"sid","rover.ebay.com":"customid","7eer.net":"subId2","evyy.net":"subId2","fjbu.net":"subId2","i3f2.net":"subId2","iln8.net":"subId2","ixmz.net":"subId2","liln.net":"subId2","lvuv.net":"subId2","meqk.net":"subId2","offers.ondeckcapital.com":"subId2","ojrq.net":"subId2","partners.hostgator.com":"subId2","pxf.io":"subId2","risj.net":"subId2","sjv.io":"subId2","ubertrk.com":"subId2","xovt.net":"subId2","xrte.net":"subId2","zfrcsk.net":"subId2","zvbf.net":"subId2","gopjn.com":"sid","pepperjamnetwork.com":"sid","pjtra.com":"sid","pntra.com":"sid","pntrac.com":"sid","pntrs.com":"sid","prf.hn":"pubref","click.linksynergy.com":"u1","?rfsn=":"subid","shareasale.com":"afftrack","go2cloud.org":"aff_sub2","go2jump.org":"aff_sub2","track.webgains.com":"clickref"},e={"about.com":"about","alice.com":"alice","alltheweb.com":"alltheweb","altavista.com":"altavista","aol.com":"aol","ask.com":"ask","baidu.com":"baidu","bing.com":"live","cnn.com":"cnn","daum.net":"daum","ekolay.net":"ekolay","eniro.se":"eniro ",google:"google","kvasir.no":"kvasir","lycos.com":"lycos","mamma.com":"mama","msn.com":"msn","mynet.com":"mynet","najdi.org.mk":"najdi","naver.com":"naver ","online.onetcenter.org":"o*net","ozu.es":"ozu ","pchome.com":"pchome","rambler.ru":"rambler","search.com":"search","search.netscape.com":"netscape","search.virgilio.it":"virgilio","sesam.no":"sesam","seznam.cz":"seznam","szukacz.pl":"szukacz","terra.com":"terra","voila.fr":"voila","wp.pl":"wirtulana polska","yahoo.com":"yahoo","yam.com":"yam","yandex.com":"yandex"},n={dclid:"dclid",fbclid:"fbclid",gclid:"gclid",utm_campaign:"cn",utm_content:"cc",utm_medium:"cm",utm_source:"cs",utm_term:"ck"};let s;function c(t){var e=("; "+document.cookie).split("; "+t+"=");if(2==e.length)return e.pop().split(";").shift()}function o(t){for(const e in t)s[e]=t[e]}function i(e){var n=e.target||e.srcElement;if("A"===n.tagName){var c,o=n.getAttribute("href"),i=0,d="sid";for(var u in t)if(-1!==o.indexOf(u)){s.sid=a(),r(),d=t[u],"prf.hn"===u&&(i=1);break}if(!s.sid)return;if(i){var m=o.indexOf("/pubref:"),f=o.indexOf("/destination:"),l=o.indexOf("?"),b=`/pubref:${s.sid}`;c=-1===m?-1===f?-1!==l?"/"===o.substr(l-2,1)?`${o.substr(0,l-1)}${b}${o.substr(l)}`:`${o.substr(0,l)}${b}${o.substr(l)}`:"/"===o.substr(o.length-1,1)?`${o.substr(0,o.length-1)}${b}`:`${o.substr(0)}${b}`:`${o.substr(0,f)}${b}${o.substr(f)}`:-1!==f?`${o.substr(0,m)}${b}${o.substr(f)}`:l?`${o.substr(0,m)}${b}${o.substr(l)}`:`${o.substr(0,m)}${b}${o.substr(f)}`}else{var p=o.indexOf("?");if(-1===p)c=o+="?"+d+"="+s.sid;else{var v={};!function(t,e){t&&t.split("&").forEach(t=>{const n=t.split("=");n[0]&&(e[n[0]]=n[1])})}(o.substr(p+1),v),v[d]=s.sid;var g=[];for(var u in v)g.push(`${u}${v[u]?`=${v[u]}`:""}`);c=o.substr(0,p)+"?"+g.join("&")}}console.log(c),n.setAttribute("href",c),s.sid=void 0,setTimeout(function(){n.setAttribute("href",o)},300)}}function a(){let t="";for(let e=0;e<3;e++)t+=Math.random().toString(36).slice(2);return t.substr(1,12)}function r(){const t=d();t.open("POST","https://us-central1-affluent-data-capture.cloudfunctions.net/data-capture",!0),t.setRequestHeader("Content-Type","Application/json"),t.send(JSON.stringify(s))}function d(){let t;try{t=new ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{t=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){t=!1}}return t||"undefined"==typeof XMLHttpRequest||(t=new XMLHttpRequest),t}return{init:function(a,r,u){s={websiteId:String(a),userId:r,uri:document.location.href,cid:"",metaTitle:document.title},function t(e){var n=c("_ga");n?s.cid=n.substr(6):e&&setTimeout(function(){t(e-1)},2e3)}(3),function(){const e=d();e.open("GET","https://us-central1-affluent-data-capture.cloudfunctions.net/DataCapturePatterns?userId="+s.userId,!0),e.onreadystatechange=function(){if(4==e.readyState&&e.status>=200&&e.status<400)try{const n=JSON.parse(e.responseText);n.forEach(function(e){t[e.base_url]=e.sid})}catch(t){console.error(t)}},e.send()}();let m=0;u&&(1===u||"1"===u?m=1:1!==u.advancedTracking&&"1"!==u.advancedTracking||(m=1)),m&&(function(){const t=d();t.open("GET","https://api.ipify.org/",!0),t.onreadystatechange=function(){4==t.readyState&&t.status>=200&&t.status<400&&(s.ip=t.responseText)},t.send()}(),async function(t){const{attributionType:s}=t;if("l"===s);else{const s=c("affdcc");if(s)o(JSON.parse(s));else{const s=await async function(t){let s={};await function(t){const e=window.location.search.substring(1);e&&e.split("&").forEach(e=>{const s=e.split("=");t[n[s[0]]]=s[1]})}(s);const c=t.rootDomain||window.location.hostname,o=""===document.referrer?void 0:document.referrer;return o&&-1===o.indexOf(c)?await async function(t,n){const s=n?n.split("?"):void 0,c=s?s.shift():void 0;if(t.dr=n,t.gclid)t.cs="google",t.cm="paid_advertising";else if(t.dclid)t.cs="google",t.cm="paid_advertising";else if(t.fbclid)t.cs="facebook",t.cm="paid_advertising";else{let s=0;for(const n in e)if(c.includes(n)){const c=e[n];t.cs=t.cs||c,t.cm=t.cm||"organic",s=1}s||(t.cm=t.cm||"referral",t.cs=t.cs||await function(t){if(t){var e=document.createElement("a");e.href=t;try{return e.hostname.match(/[^.]*\.[^.]{2,3}(?:\.[^.]{2,3})?$/)[0]}catch(t){return}}}(c),t.dr=n)}}(s,o):(s.cs=s.cs||"(direct)",s.cm=s.cm||"(none)"),s}(t);o(s),function(t,e){if(e){var n=new Date;n.setTime(n.getTime()+2592e6);var s=document.domain.split(".").reverse().splice(0,2).reverse().join("."),c=[t,"=",JSON.stringify(e),"; expires=",n.toUTCString(),"; domain=.",s,"; path=/; SameSite=None; Secure"].join("");document.cookie=c}}("affdcc",s)}}}(u)),document.addEventListener?(document.addEventListener("click",i),document.addEventListener("contextmenu",i)):document.attachEvent&&(document.attachEvent("onclick",i),document.addEventListener("contextmenu",i))}}}();